import{r as x,b as Dn,d as Rn,a as Y}from"./vendor-pRwqyV2Z.js";import{u as On,a as ys,L as kt,O as Fn,b as xa,R as An,c as le,N as pa,B as Mn}from"./router-DGiNktFP.js";import{_ as K,a as nt,R as Pn,B as _n,X as Ln,Y as In,T as Un,b as Bn}from"./charts-BjDiwF6h.js";import"./utils-B-dksMZM.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var ya={exports:{}},gs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qn=x,$n=Symbol.for("react.element"),Vn=Symbol.for("react.fragment"),zn=Object.prototype.hasOwnProperty,Qn=qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kn={key:!0,ref:!0,__self:!0,__source:!0};function ga(t,s,r){var a,n={},i=null,l=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(l=s.ref);for(a in s)zn.call(s,a)&&!Kn.hasOwnProperty(a)&&(n[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:$n,type:t,key:i,ref:l,props:n,_owner:Qn.current}}gs.Fragment=Vn;gs.jsx=ga;gs.jsxs=ga;ya.exports=gs;var e=ya.exports,qs={},Dr=Dn;qs.createRoot=Dr.createRoot,qs.hydrateRoot=Dr.hydrateRoot;var it=function(){function t(){this.listeners=[]}var s=t.prototype;return s.subscribe=function(a){var n=this,i=a||function(){};return this.listeners.push(i),this.onSubscribe(),function(){n.listeners=n.listeners.filter(function(l){return l!==i}),n.onUnsubscribe()}},s.hasListeners=function(){return this.listeners.length>0},s.onSubscribe=function(){},s.onUnsubscribe=function(){},t}(),ss=typeof window>"u";function ue(){}function Hn(t,s){return typeof t=="function"?t(s):t}function $s(t){return typeof t=="number"&&t>=0&&t!==1/0}function rs(t){return Array.isArray(t)?t:[t]}function ba(t,s){return Math.max(t+(s||0)-Date.now(),0)}function Gt(t,s,r){return Rt(t)?typeof s=="function"?K({},r,{queryKey:t,queryFn:s}):K({},s,{queryKey:t}):t}function Gn(t,s,r){return Rt(t)?typeof s=="function"?K({},r,{mutationKey:t,mutationFn:s}):K({},s,{mutationKey:t}):typeof t=="function"?K({},s,{mutationFn:t}):K({},t)}function Le(t,s,r){return Rt(t)?[K({},s,{queryKey:t}),r]:[t||{},s]}function Yn(t,s){if(t===!0&&s===!0||t==null&&s==null)return"all";if(t===!1&&s===!1)return"none";var r=t??!s;return r?"active":"inactive"}function Rr(t,s){var r=t.active,a=t.exact,n=t.fetching,i=t.inactive,l=t.predicate,o=t.queryKey,c=t.stale;if(Rt(o)){if(a){if(s.queryHash!==sr(o,s.options))return!1}else if(!as(s.queryKey,o))return!1}var d=Yn(r,i);if(d==="none")return!1;if(d!=="all"){var u=s.isActive();if(d==="active"&&!u||d==="inactive"&&u)return!1}return!(typeof c=="boolean"&&s.isStale()!==c||typeof n=="boolean"&&s.isFetching()!==n||l&&!l(s))}function Or(t,s){var r=t.exact,a=t.fetching,n=t.predicate,i=t.mutationKey;if(Rt(i)){if(!s.options.mutationKey)return!1;if(r){if(Qe(s.options.mutationKey)!==Qe(i))return!1}else if(!as(s.options.mutationKey,i))return!1}return!(typeof a=="boolean"&&s.state.status==="loading"!==a||n&&!n(s))}function sr(t,s){var r=(s==null?void 0:s.queryKeyHashFn)||Qe;return r(t)}function Qe(t){var s=rs(t);return Wn(s)}function Wn(t){return JSON.stringify(t,function(s,r){return Vs(r)?Object.keys(r).sort().reduce(function(a,n){return a[n]=r[n],a},{}):r})}function as(t,s){return va(rs(t),rs(s))}function va(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?!Object.keys(s).some(function(r){return!va(t[r],s[r])}):!1}function ns(t,s){if(t===s)return t;var r=Array.isArray(t)&&Array.isArray(s);if(r||Vs(t)&&Vs(s)){for(var a=r?t.length:Object.keys(t).length,n=r?s:Object.keys(s),i=n.length,l=r?[]:{},o=0,c=0;c<i;c++){var d=r?c:n[c];l[d]=ns(t[d],s[d]),l[d]===t[d]&&o++}return a===i&&o===a?t:l}return s}function Jn(t,s){if(t&&!s||s&&!t)return!1;for(var r in t)if(t[r]!==s[r])return!1;return!0}function Vs(t){if(!Fr(t))return!1;var s=t.constructor;if(typeof s>"u")return!0;var r=s.prototype;return!(!Fr(r)||!r.hasOwnProperty("isPrototypeOf"))}function Fr(t){return Object.prototype.toString.call(t)==="[object Object]"}function Rt(t){return typeof t=="string"||Array.isArray(t)}function Xn(t){return new Promise(function(s){setTimeout(s,t)})}function Ar(t){Promise.resolve().then(t).catch(function(s){return setTimeout(function(){throw s})})}function ja(){if(typeof AbortController=="function")return new AbortController}var Zn=function(t){nt(s,t);function s(){var a;return a=t.call(this)||this,a.setup=function(n){var i;if(!ss&&((i=window)!=null&&i.addEventListener)){var l=function(){return n()};return window.addEventListener("visibilitychange",l,!1),window.addEventListener("focus",l,!1),function(){window.removeEventListener("visibilitychange",l),window.removeEventListener("focus",l)}}},a}var r=s.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}},r.setEventListener=function(n){var i,l=this;this.setup=n,(i=this.cleanup)==null||i.call(this),this.cleanup=n(function(o){typeof o=="boolean"?l.setFocused(o):l.onFocus()})},r.setFocused=function(n){this.focused=n,n&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(n){n()})},r.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},s}(it),bt=new Zn,ei=function(t){nt(s,t);function s(){var a;return a=t.call(this)||this,a.setup=function(n){var i;if(!ss&&((i=window)!=null&&i.addEventListener)){var l=function(){return n()};return window.addEventListener("online",l,!1),window.addEventListener("offline",l,!1),function(){window.removeEventListener("online",l),window.removeEventListener("offline",l)}}},a}var r=s.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}},r.setEventListener=function(n){var i,l=this;this.setup=n,(i=this.cleanup)==null||i.call(this),this.cleanup=n(function(o){typeof o=="boolean"?l.setOnline(o):l.onOnline()})},r.setOnline=function(n){this.online=n,n&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(n){n()})},r.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},s}(it),Yt=new ei;function ti(t){return Math.min(1e3*Math.pow(2,t),3e4)}function is(t){return typeof(t==null?void 0:t.cancel)=="function"}var Na=function(s){this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent};function Wt(t){return t instanceof Na}var wa=function(s){var r=this,a=!1,n,i,l,o;this.abort=s.abort,this.cancel=function(h){return n==null?void 0:n(h)},this.cancelRetry=function(){a=!0},this.continueRetry=function(){a=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(h,p){l=h,o=p});var c=function(p){r.isResolved||(r.isResolved=!0,s.onSuccess==null||s.onSuccess(p),i==null||i(),l(p))},d=function(p){r.isResolved||(r.isResolved=!0,s.onError==null||s.onError(p),i==null||i(),o(p))},u=function(){return new Promise(function(p){i=p,r.isPaused=!0,s.onPause==null||s.onPause()}).then(function(){i=void 0,r.isPaused=!1,s.onContinue==null||s.onContinue()})},f=function h(){if(!r.isResolved){var p;try{p=s.fn()}catch(y){p=Promise.reject(y)}n=function(v){if(!r.isResolved&&(d(new Na(v)),r.abort==null||r.abort(),is(p)))try{p.cancel()}catch{}},r.isTransportCancelable=is(p),Promise.resolve(p).then(c).catch(function(y){var v,b;if(!r.isResolved){var S=(v=s.retry)!=null?v:3,N=(b=s.retryDelay)!=null?b:ti,g=typeof N=="function"?N(r.failureCount,y):N,O=S===!0||typeof S=="number"&&r.failureCount<S||typeof S=="function"&&S(r.failureCount,y);if(a||!O){d(y);return}r.failureCount++,s.onFail==null||s.onFail(r.failureCount,y),Xn(g).then(function(){if(!bt.isFocused()||!Yt.isOnline())return u()}).then(function(){a?d(y):h()})}})}};f()},si=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(r){r()},this.batchNotifyFn=function(r){r()}}var s=t.prototype;return s.batch=function(a){var n;this.transactions++;try{n=a()}finally{this.transactions--,this.transactions||this.flush()}return n},s.schedule=function(a){var n=this;this.transactions?this.queue.push(a):Ar(function(){n.notifyFn(a)})},s.batchCalls=function(a){var n=this;return function(){for(var i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];n.schedule(function(){a.apply(void 0,l)})}},s.flush=function(){var a=this,n=this.queue;this.queue=[],n.length&&Ar(function(){a.batchNotifyFn(function(){n.forEach(function(i){a.notifyFn(i)})})})},s.setNotifyFunction=function(a){this.notifyFn=a},s.setBatchNotifyFunction=function(a){this.batchNotifyFn=a},t}(),ee=new si,ka=console;function ls(){return ka}function ri(t){ka=t}var ai=function(){function t(r){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.cache=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.initialState=r.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=r.meta,this.scheduleGc()}var s=t.prototype;return s.setOptions=function(a){var n;this.options=K({},this.defaultOptions,a),this.meta=a==null?void 0:a.meta,this.cacheTime=Math.max(this.cacheTime||0,(n=this.options.cacheTime)!=null?n:5*60*1e3)},s.setDefaultOptions=function(a){this.defaultOptions=a},s.scheduleGc=function(){var a=this;this.clearGcTimeout(),$s(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){a.optionalRemove()},this.cacheTime))},s.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},s.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},s.setData=function(a,n){var i,l,o=this.state.data,c=Hn(a,o);return(i=(l=this.options).isDataEqual)!=null&&i.call(l,o,c)?c=o:this.options.structuralSharing!==!1&&(c=ns(o,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt}),c},s.setState=function(a,n){this.dispatch({type:"setState",state:a,setStateOptions:n})},s.cancel=function(a){var n,i=this.promise;return(n=this.retryer)==null||n.cancel(a),i?i.then(ue).catch(ue):Promise.resolve()},s.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},s.reset=function(){this.destroy(),this.setState(this.initialState)},s.isActive=function(){return this.observers.some(function(a){return a.options.enabled!==!1})},s.isFetching=function(){return this.state.isFetching},s.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(a){return a.getCurrentResult().isStale})},s.isStaleByTime=function(a){return a===void 0&&(a=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!ba(this.state.dataUpdatedAt,a)},s.onFocus=function(){var a,n=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});n&&n.refetch(),(a=this.retryer)==null||a.continue()},s.onOnline=function(){var a,n=this.observers.find(function(i){return i.shouldFetchOnReconnect()});n&&n.refetch(),(a=this.retryer)==null||a.continue()},s.addObserver=function(a){this.observers.indexOf(a)===-1&&(this.observers.push(a),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:a}))},s.removeObserver=function(a){this.observers.indexOf(a)!==-1&&(this.observers=this.observers.filter(function(n){return n!==a}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:a}))},s.getObserversCount=function(){return this.observers.length},s.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},s.fetch=function(a,n){var i=this,l,o,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var d;return(d=this.retryer)==null||d.continueRetry(),this.promise}}if(a&&this.setOptions(a),!this.options.queryFn){var u=this.observers.find(function(N){return N.options.queryFn});u&&this.setOptions(u.options)}var f=rs(this.queryKey),h=ja(),p={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(p,"signal",{enumerable:!0,get:function(){if(h)return i.abortSignalConsumed=!0,h.signal}});var y=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(p)):Promise.reject("Missing queryFn")},v={fetchOptions:n,options:this.options,queryKey:f,state:this.state,fetchFn:y,meta:this.meta};if((l=this.options.behavior)!=null&&l.onFetch){var b;(b=this.options.behavior)==null||b.onFetch(v)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((o=v.fetchOptions)==null?void 0:o.meta)){var S;this.dispatch({type:"fetch",meta:(S=v.fetchOptions)==null?void 0:S.meta})}return this.retryer=new wa({fn:v.fetchFn,abort:h==null||(c=h.abort)==null?void 0:c.bind(h),onSuccess:function(g){i.setData(g),i.cache.config.onSuccess==null||i.cache.config.onSuccess(g,i),i.cacheTime===0&&i.optionalRemove()},onError:function(g){Wt(g)&&g.silent||i.dispatch({type:"error",error:g}),Wt(g)||(i.cache.config.onError==null||i.cache.config.onError(g,i),ls().error(g)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay}),this.promise=this.retryer.promise,this.promise},s.dispatch=function(a){var n=this;this.state=this.reducer(this.state,a),ee.batch(function(){n.observers.forEach(function(i){i.onQueryUpdate(a)}),n.cache.notify({query:n,type:"queryUpdated",action:a})})},s.getDefaultState=function(a){var n=typeof a.initialData=="function"?a.initialData():a.initialData,i=typeof a.initialData<"u",l=i?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0,o=typeof n<"u";return{data:n,dataUpdateCount:0,dataUpdatedAt:o?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:o?"success":"idle"}},s.reducer=function(a,n){var i,l;switch(n.type){case"failed":return K({},a,{fetchFailureCount:a.fetchFailureCount+1});case"pause":return K({},a,{isPaused:!0});case"continue":return K({},a,{isPaused:!1});case"fetch":return K({},a,{fetchFailureCount:0,fetchMeta:(i=n.meta)!=null?i:null,isFetching:!0,isPaused:!1},!a.dataUpdatedAt&&{error:null,status:"loading"});case"success":return K({},a,{data:n.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:(l=n.dataUpdatedAt)!=null?l:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var o=n.error;return Wt(o)&&o.revert&&this.revertState?K({},this.revertState):K({},a,{error:o,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return K({},a,{isInvalidated:!0});case"setState":return K({},a,n.state);default:return a}},t}(),ni=function(t){nt(s,t);function s(a){var n;return n=t.call(this)||this,n.config=a||{},n.queries=[],n.queriesMap={},n}var r=s.prototype;return r.build=function(n,i,l){var o,c=i.queryKey,d=(o=i.queryHash)!=null?o:sr(c,i),u=this.get(d);return u||(u=new ai({cache:this,queryKey:c,queryHash:d,options:n.defaultQueryOptions(i),state:l,defaultOptions:n.getQueryDefaults(c),meta:i.meta}),this.add(u)),u},r.add=function(n){this.queriesMap[n.queryHash]||(this.queriesMap[n.queryHash]=n,this.queries.push(n),this.notify({type:"queryAdded",query:n}))},r.remove=function(n){var i=this.queriesMap[n.queryHash];i&&(n.destroy(),this.queries=this.queries.filter(function(l){return l!==n}),i===n&&delete this.queriesMap[n.queryHash],this.notify({type:"queryRemoved",query:n}))},r.clear=function(){var n=this;ee.batch(function(){n.queries.forEach(function(i){n.remove(i)})})},r.get=function(n){return this.queriesMap[n]},r.getAll=function(){return this.queries},r.find=function(n,i){var l=Le(n,i),o=l[0];return typeof o.exact>"u"&&(o.exact=!0),this.queries.find(function(c){return Rr(o,c)})},r.findAll=function(n,i){var l=Le(n,i),o=l[0];return Object.keys(o).length>0?this.queries.filter(function(c){return Rr(o,c)}):this.queries},r.notify=function(n){var i=this;ee.batch(function(){i.listeners.forEach(function(l){l(n)})})},r.onFocus=function(){var n=this;ee.batch(function(){n.queries.forEach(function(i){i.onFocus()})})},r.onOnline=function(){var n=this;ee.batch(function(){n.queries.forEach(function(i){i.onOnline()})})},s}(it),ii=function(){function t(r){this.options=K({},r.defaultOptions,r.options),this.mutationId=r.mutationId,this.mutationCache=r.mutationCache,this.observers=[],this.state=r.state||Sa(),this.meta=r.meta}var s=t.prototype;return s.setState=function(a){this.dispatch({type:"setState",state:a})},s.addObserver=function(a){this.observers.indexOf(a)===-1&&this.observers.push(a)},s.removeObserver=function(a){this.observers=this.observers.filter(function(n){return n!==a})},s.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(ue).catch(ue)):Promise.resolve()},s.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},s.execute=function(){var a=this,n,i=this.state.status==="loading",l=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),l=l.then(function(){a.mutationCache.config.onMutate==null||a.mutationCache.config.onMutate(a.state.variables,a)}).then(function(){return a.options.onMutate==null?void 0:a.options.onMutate(a.state.variables)}).then(function(o){o!==a.state.context&&a.dispatch({type:"loading",context:o,variables:a.state.variables})})),l.then(function(){return a.executeMutation()}).then(function(o){n=o,a.mutationCache.config.onSuccess==null||a.mutationCache.config.onSuccess(n,a.state.variables,a.state.context,a)}).then(function(){return a.options.onSuccess==null?void 0:a.options.onSuccess(n,a.state.variables,a.state.context)}).then(function(){return a.options.onSettled==null?void 0:a.options.onSettled(n,null,a.state.variables,a.state.context)}).then(function(){return a.dispatch({type:"success",data:n}),n}).catch(function(o){return a.mutationCache.config.onError==null||a.mutationCache.config.onError(o,a.state.variables,a.state.context,a),ls().error(o),Promise.resolve().then(function(){return a.options.onError==null?void 0:a.options.onError(o,a.state.variables,a.state.context)}).then(function(){return a.options.onSettled==null?void 0:a.options.onSettled(void 0,o,a.state.variables,a.state.context)}).then(function(){throw a.dispatch({type:"error",error:o}),o})})},s.executeMutation=function(){var a=this,n;return this.retryer=new wa({fn:function(){return a.options.mutationFn?a.options.mutationFn(a.state.variables):Promise.reject("No mutationFn found")},onFail:function(){a.dispatch({type:"failed"})},onPause:function(){a.dispatch({type:"pause"})},onContinue:function(){a.dispatch({type:"continue"})},retry:(n=this.options.retry)!=null?n:0,retryDelay:this.options.retryDelay}),this.retryer.promise},s.dispatch=function(a){var n=this;this.state=li(this.state,a),ee.batch(function(){n.observers.forEach(function(i){i.onMutationUpdate(a)}),n.mutationCache.notify(n)})},t}();function Sa(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function li(t,s){switch(s.type){case"failed":return K({},t,{failureCount:t.failureCount+1});case"pause":return K({},t,{isPaused:!0});case"continue":return K({},t,{isPaused:!1});case"loading":return K({},t,{context:s.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:s.variables});case"success":return K({},t,{data:s.data,error:null,status:"success",isPaused:!1});case"error":return K({},t,{data:void 0,error:s.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return K({},t,s.state);default:return t}}var oi=function(t){nt(s,t);function s(a){var n;return n=t.call(this)||this,n.config=a||{},n.mutations=[],n.mutationId=0,n}var r=s.prototype;return r.build=function(n,i,l){var o=new ii({mutationCache:this,mutationId:++this.mutationId,options:n.defaultMutationOptions(i),state:l,defaultOptions:i.mutationKey?n.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(o),o},r.add=function(n){this.mutations.push(n),this.notify(n)},r.remove=function(n){this.mutations=this.mutations.filter(function(i){return i!==n}),n.cancel(),this.notify(n)},r.clear=function(){var n=this;ee.batch(function(){n.mutations.forEach(function(i){n.remove(i)})})},r.getAll=function(){return this.mutations},r.find=function(n){return typeof n.exact>"u"&&(n.exact=!0),this.mutations.find(function(i){return Or(n,i)})},r.findAll=function(n){return this.mutations.filter(function(i){return Or(n,i)})},r.notify=function(n){var i=this;ee.batch(function(){i.listeners.forEach(function(l){l(n)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var n=this.mutations.filter(function(i){return i.state.isPaused});return ee.batch(function(){return n.reduce(function(i,l){return i.then(function(){return l.continue().catch(ue)})},Promise.resolve())})},s}(it);function ci(){return{onFetch:function(s){s.fetchFn=function(){var r,a,n,i,l,o,c=(r=s.fetchOptions)==null||(a=r.meta)==null?void 0:a.refetchPage,d=(n=s.fetchOptions)==null||(i=n.meta)==null?void 0:i.fetchMore,u=d==null?void 0:d.pageParam,f=(d==null?void 0:d.direction)==="forward",h=(d==null?void 0:d.direction)==="backward",p=((l=s.state.data)==null?void 0:l.pages)||[],y=((o=s.state.data)==null?void 0:o.pageParams)||[],v=ja(),b=v==null?void 0:v.signal,S=y,N=!1,g=s.options.queryFn||function(){return Promise.reject("Missing queryFn")},O=function(A,G,W,te){return S=te?[G].concat(S):[].concat(S,[G]),te?[W].concat(A):[].concat(A,[W])},k=function(A,G,W,te){if(N)return Promise.reject("Cancelled");if(typeof W>"u"&&!G&&A.length)return Promise.resolve(A);var he={queryKey:s.queryKey,signal:b,pageParam:W,meta:s.meta},oe=g(he),Ne=Promise.resolve(oe).then(function(qe){return O(A,W,qe,te)});if(is(oe)){var _e=Ne;_e.cancel=oe.cancel}return Ne},D;if(!p.length)D=k([]);else if(f){var _=typeof u<"u",z=_?u:Mr(s.options,p);D=k(p,_,z)}else if(h){var T=typeof u<"u",E=T?u:di(s.options,p);D=k(p,T,E,!0)}else(function(){S=[];var q=typeof s.options.getNextPageParam>"u",A=c&&p[0]?c(p[0],0,p):!0;D=A?k([],q,y[0]):Promise.resolve(O([],y[0],p[0]));for(var G=function(he){D=D.then(function(oe){var Ne=c&&p[he]?c(p[he],he,p):!0;if(Ne){var _e=q?y[he]:Mr(s.options,oe);return k(oe,q,_e)}return Promise.resolve(O(oe,y[he],p[he]))})},W=1;W<p.length;W++)G(W)})();var $=D.then(function(q){return{pages:q,pageParams:S}}),I=$;return I.cancel=function(){N=!0,v==null||v.abort(),is(D)&&D.cancel()},$}}}}function Mr(t,s){return t.getNextPageParam==null?void 0:t.getNextPageParam(s[s.length-1],s)}function di(t,s){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(s[0],s)}var ui=function(){function t(r){r===void 0&&(r={}),this.queryCache=r.queryCache||new ni,this.mutationCache=r.mutationCache||new oi,this.defaultOptions=r.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var s=t.prototype;return s.mount=function(){var a=this;this.unsubscribeFocus=bt.subscribe(function(){bt.isFocused()&&Yt.isOnline()&&(a.mutationCache.onFocus(),a.queryCache.onFocus())}),this.unsubscribeOnline=Yt.subscribe(function(){bt.isFocused()&&Yt.isOnline()&&(a.mutationCache.onOnline(),a.queryCache.onOnline())})},s.unmount=function(){var a,n;(a=this.unsubscribeFocus)==null||a.call(this),(n=this.unsubscribeOnline)==null||n.call(this)},s.isFetching=function(a,n){var i=Le(a,n),l=i[0];return l.fetching=!0,this.queryCache.findAll(l).length},s.isMutating=function(a){return this.mutationCache.findAll(K({},a,{fetching:!0})).length},s.getQueryData=function(a,n){var i;return(i=this.queryCache.find(a,n))==null?void 0:i.state.data},s.getQueriesData=function(a){return this.getQueryCache().findAll(a).map(function(n){var i=n.queryKey,l=n.state,o=l.data;return[i,o]})},s.setQueryData=function(a,n,i){var l=Gt(a),o=this.defaultQueryOptions(l);return this.queryCache.build(this,o).setData(n,i)},s.setQueriesData=function(a,n,i){var l=this;return ee.batch(function(){return l.getQueryCache().findAll(a).map(function(o){var c=o.queryKey;return[c,l.setQueryData(c,n,i)]})})},s.getQueryState=function(a,n){var i;return(i=this.queryCache.find(a,n))==null?void 0:i.state},s.removeQueries=function(a,n){var i=Le(a,n),l=i[0],o=this.queryCache;ee.batch(function(){o.findAll(l).forEach(function(c){o.remove(c)})})},s.resetQueries=function(a,n,i){var l=this,o=Le(a,n,i),c=o[0],d=o[1],u=this.queryCache,f=K({},c,{active:!0});return ee.batch(function(){return u.findAll(c).forEach(function(h){h.reset()}),l.refetchQueries(f,d)})},s.cancelQueries=function(a,n,i){var l=this,o=Le(a,n,i),c=o[0],d=o[1],u=d===void 0?{}:d;typeof u.revert>"u"&&(u.revert=!0);var f=ee.batch(function(){return l.queryCache.findAll(c).map(function(h){return h.cancel(u)})});return Promise.all(f).then(ue).catch(ue)},s.invalidateQueries=function(a,n,i){var l,o,c,d=this,u=Le(a,n,i),f=u[0],h=u[1],p=K({},f,{active:(l=(o=f.refetchActive)!=null?o:f.active)!=null?l:!0,inactive:(c=f.refetchInactive)!=null?c:!1});return ee.batch(function(){return d.queryCache.findAll(f).forEach(function(y){y.invalidate()}),d.refetchQueries(p,h)})},s.refetchQueries=function(a,n,i){var l=this,o=Le(a,n,i),c=o[0],d=o[1],u=ee.batch(function(){return l.queryCache.findAll(c).map(function(h){return h.fetch(void 0,K({},d,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),f=Promise.all(u).then(ue);return d!=null&&d.throwOnError||(f=f.catch(ue)),f},s.fetchQuery=function(a,n,i){var l=Gt(a,n,i),o=this.defaultQueryOptions(l);typeof o.retry>"u"&&(o.retry=!1);var c=this.queryCache.build(this,o);return c.isStaleByTime(o.staleTime)?c.fetch(o):Promise.resolve(c.state.data)},s.prefetchQuery=function(a,n,i){return this.fetchQuery(a,n,i).then(ue).catch(ue)},s.fetchInfiniteQuery=function(a,n,i){var l=Gt(a,n,i);return l.behavior=ci(),this.fetchQuery(l)},s.prefetchInfiniteQuery=function(a,n,i){return this.fetchInfiniteQuery(a,n,i).then(ue).catch(ue)},s.cancelMutations=function(){var a=this,n=ee.batch(function(){return a.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(n).then(ue).catch(ue)},s.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},s.executeMutation=function(a){return this.mutationCache.build(this,a).execute()},s.getQueryCache=function(){return this.queryCache},s.getMutationCache=function(){return this.mutationCache},s.getDefaultOptions=function(){return this.defaultOptions},s.setDefaultOptions=function(a){this.defaultOptions=a},s.setQueryDefaults=function(a,n){var i=this.queryDefaults.find(function(l){return Qe(a)===Qe(l.queryKey)});i?i.defaultOptions=n:this.queryDefaults.push({queryKey:a,defaultOptions:n})},s.getQueryDefaults=function(a){var n;return a?(n=this.queryDefaults.find(function(i){return as(a,i.queryKey)}))==null?void 0:n.defaultOptions:void 0},s.setMutationDefaults=function(a,n){var i=this.mutationDefaults.find(function(l){return Qe(a)===Qe(l.mutationKey)});i?i.defaultOptions=n:this.mutationDefaults.push({mutationKey:a,defaultOptions:n})},s.getMutationDefaults=function(a){var n;return a?(n=this.mutationDefaults.find(function(i){return as(a,i.mutationKey)}))==null?void 0:n.defaultOptions:void 0},s.defaultQueryOptions=function(a){if(a!=null&&a._defaulted)return a;var n=K({},this.defaultOptions.queries,this.getQueryDefaults(a==null?void 0:a.queryKey),a,{_defaulted:!0});return!n.queryHash&&n.queryKey&&(n.queryHash=sr(n.queryKey,n)),n},s.defaultQueryObserverOptions=function(a){return this.defaultQueryOptions(a)},s.defaultMutationOptions=function(a){return a!=null&&a._defaulted?a:K({},this.defaultOptions.mutations,this.getMutationDefaults(a==null?void 0:a.mutationKey),a,{_defaulted:!0})},s.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),hi=function(t){nt(s,t);function s(a,n){var i;return i=t.call(this)||this,i.client=a,i.options=n,i.trackedProps=[],i.selectError=null,i.bindMethods(),i.setOptions(n),i}var r=s.prototype;return r.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},r.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Pr(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},r.onUnsubscribe=function(){this.listeners.length||this.destroy()},r.shouldFetchOnReconnect=function(){return zs(this.currentQuery,this.options,this.options.refetchOnReconnect)},r.shouldFetchOnWindowFocus=function(){return zs(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},r.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},r.setOptions=function(n,i){var l=this.options,o=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(n),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=l.queryKey),this.updateQuery();var c=this.hasListeners();c&&_r(this.currentQuery,o,this.options,l)&&this.executeFetch(),this.updateResult(i),c&&(this.currentQuery!==o||this.options.enabled!==l.enabled||this.options.staleTime!==l.staleTime)&&this.updateStaleTimeout();var d=this.computeRefetchInterval();c&&(this.currentQuery!==o||this.options.enabled!==l.enabled||d!==this.currentRefetchInterval)&&this.updateRefetchInterval(d)},r.getOptimisticResult=function(n){var i=this.client.defaultQueryObserverOptions(n),l=this.client.getQueryCache().build(this.client,i);return this.createResult(l,i)},r.getCurrentResult=function(){return this.currentResult},r.trackResult=function(n,i){var l=this,o={},c=function(u){l.trackedProps.includes(u)||l.trackedProps.push(u)};return Object.keys(n).forEach(function(d){Object.defineProperty(o,d,{configurable:!1,enumerable:!0,get:function(){return c(d),n[d]}})}),(i.useErrorBoundary||i.suspense)&&c("error"),o},r.getNextResult=function(n){var i=this;return new Promise(function(l,o){var c=i.subscribe(function(d){d.isFetching||(c(),d.isError&&(n!=null&&n.throwOnError)?o(d.error):l(d))})})},r.getCurrentQuery=function(){return this.currentQuery},r.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},r.refetch=function(n){return this.fetch(K({},n,{meta:{refetchPage:n==null?void 0:n.refetchPage}}))},r.fetchOptimistic=function(n){var i=this,l=this.client.defaultQueryObserverOptions(n),o=this.client.getQueryCache().build(this.client,l);return o.fetch().then(function(){return i.createResult(o,l)})},r.fetch=function(n){var i=this;return this.executeFetch(n).then(function(){return i.updateResult(),i.currentResult})},r.executeFetch=function(n){this.updateQuery();var i=this.currentQuery.fetch(this.options,n);return n!=null&&n.throwOnError||(i=i.catch(ue)),i},r.updateStaleTimeout=function(){var n=this;if(this.clearStaleTimeout(),!(ss||this.currentResult.isStale||!$s(this.options.staleTime))){var i=ba(this.currentResult.dataUpdatedAt,this.options.staleTime),l=i+1;this.staleTimeoutId=setTimeout(function(){n.currentResult.isStale||n.updateResult()},l)}},r.computeRefetchInterval=function(){var n;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(n=this.options.refetchInterval)!=null?n:!1},r.updateRefetchInterval=function(n){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=n,!(ss||this.options.enabled===!1||!$s(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||bt.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},r.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},r.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},r.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},r.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},r.createResult=function(n,i){var l=this.currentQuery,o=this.options,c=this.currentResult,d=this.currentResultState,u=this.currentResultOptions,f=n!==l,h=f?n.state:this.currentQueryInitialState,p=f?this.currentResult:this.previousQueryResult,y=n.state,v=y.dataUpdatedAt,b=y.error,S=y.errorUpdatedAt,N=y.isFetching,g=y.status,O=!1,k=!1,D;if(i.optimisticResults){var _=this.hasListeners(),z=!_&&Pr(n,i),T=_&&_r(n,l,i,o);(z||T)&&(N=!0,v||(g="loading"))}if(i.keepPreviousData&&!y.dataUpdateCount&&(p!=null&&p.isSuccess)&&g!=="error")D=p.data,v=p.dataUpdatedAt,g=p.status,O=!0;else if(i.select&&typeof y.data<"u")if(c&&y.data===(d==null?void 0:d.data)&&i.select===this.selectFn)D=this.selectResult;else try{this.selectFn=i.select,D=i.select(y.data),i.structuralSharing!==!1&&(D=ns(c==null?void 0:c.data,D)),this.selectResult=D,this.selectError=null}catch(I){ls().error(I),this.selectError=I}else D=y.data;if(typeof i.placeholderData<"u"&&typeof D>"u"&&(g==="loading"||g==="idle")){var E;if(c!=null&&c.isPlaceholderData&&i.placeholderData===(u==null?void 0:u.placeholderData))E=c.data;else if(E=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof E<"u")try{E=i.select(E),i.structuralSharing!==!1&&(E=ns(c==null?void 0:c.data,E)),this.selectError=null}catch(I){ls().error(I),this.selectError=I}typeof E<"u"&&(g="success",D=E,k=!0)}this.selectError&&(b=this.selectError,D=this.selectResult,S=Date.now(),g="error");var $={status:g,isLoading:g==="loading",isSuccess:g==="success",isError:g==="error",isIdle:g==="idle",data:D,dataUpdatedAt:v,error:b,errorUpdatedAt:S,failureCount:y.fetchFailureCount,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>h.dataUpdateCount||y.errorUpdateCount>h.errorUpdateCount,isFetching:N,isRefetching:N&&g!=="loading",isLoadingError:g==="error"&&y.dataUpdatedAt===0,isPlaceholderData:k,isPreviousData:O,isRefetchError:g==="error"&&y.dataUpdatedAt!==0,isStale:rr(n,i),refetch:this.refetch,remove:this.remove};return $},r.shouldNotifyListeners=function(n,i){if(!i)return!0;var l=this.options,o=l.notifyOnChangeProps,c=l.notifyOnChangePropsExclusions;if(!o&&!c||o==="tracked"&&!this.trackedProps.length)return!0;var d=o==="tracked"?this.trackedProps:o;return Object.keys(n).some(function(u){var f=u,h=n[f]!==i[f],p=d==null?void 0:d.some(function(v){return v===u}),y=c==null?void 0:c.some(function(v){return v===u});return h&&!y&&(!d||p)})},r.updateResult=function(n){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!Jn(this.currentResult,i)){var l={cache:!0};(n==null?void 0:n.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(l.listeners=!0),this.notify(K({},l,n))}},r.updateQuery=function(){var n=this.client.getQueryCache().build(this.client,this.options);if(n!==this.currentQuery){var i=this.currentQuery;this.currentQuery=n,this.currentQueryInitialState=n.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),n.addObserver(this))}},r.onQueryUpdate=function(n){var i={};n.type==="success"?i.onSuccess=!0:n.type==="error"&&!Wt(n.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},r.notify=function(n){var i=this;ee.batch(function(){n.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):n.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),n.listeners&&i.listeners.forEach(function(l){l(i.currentResult)}),n.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},s}(it);function mi(t,s){return s.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&s.retryOnMount===!1)}function Pr(t,s){return mi(t,s)||t.state.dataUpdatedAt>0&&zs(t,s,s.refetchOnMount)}function zs(t,s,r){if(s.enabled!==!1){var a=typeof r=="function"?r(t):r;return a==="always"||a!==!1&&rr(t,s)}return!1}function _r(t,s,r,a){return r.enabled!==!1&&(t!==s||a.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&rr(t,r)}function rr(t,s){return t.isStaleByTime(s.staleTime)}var fi=function(t){nt(s,t);function s(a,n){var i;return i=t.call(this)||this,i.client=a,i.setOptions(n),i.bindMethods(),i.updateResult(),i}var r=s.prototype;return r.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},r.setOptions=function(n){this.options=this.client.defaultMutationOptions(n)},r.onUnsubscribe=function(){if(!this.listeners.length){var n;(n=this.currentMutation)==null||n.removeObserver(this)}},r.onMutationUpdate=function(n){this.updateResult();var i={listeners:!0};n.type==="success"?i.onSuccess=!0:n.type==="error"&&(i.onError=!0),this.notify(i)},r.getCurrentResult=function(){return this.currentResult},r.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},r.mutate=function(n,i){return this.mutateOptions=i,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,K({},this.options,{variables:typeof n<"u"?n:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},r.updateResult=function(){var n=this.currentMutation?this.currentMutation.state:Sa(),i=K({},n,{isLoading:n.status==="loading",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=i},r.notify=function(n){var i=this;ee.batch(function(){i.mutateOptions&&(n.onSuccess?(i.mutateOptions.onSuccess==null||i.mutateOptions.onSuccess(i.currentResult.data,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(i.currentResult.data,null,i.currentResult.variables,i.currentResult.context)):n.onError&&(i.mutateOptions.onError==null||i.mutateOptions.onError(i.currentResult.error,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(void 0,i.currentResult.error,i.currentResult.variables,i.currentResult.context))),n.listeners&&i.listeners.forEach(function(l){l(i.currentResult)})})},s}(it),xi=Rn.unstable_batchedUpdates;ee.setBatchNotifyFunction(xi);var pi=console;ri(pi);var Lr=Y.createContext(void 0),Ca=Y.createContext(!1);function Ea(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Lr),window.ReactQueryClientContext):Lr}var Ot=function(){var s=Y.useContext(Ea(Y.useContext(Ca)));if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},yi=function(s){var r=s.client,a=s.contextSharing,n=a===void 0?!1:a,i=s.children;Y.useEffect(function(){return r.mount(),function(){r.unmount()}},[r]);var l=Ea(n);return Y.createElement(Ca.Provider,{value:n},Y.createElement(l.Provider,{value:r},i))};function gi(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var bi=Y.createContext(gi()),vi=function(){return Y.useContext(bi)};function Ta(t,s,r){return typeof s=="function"?s.apply(void 0,r):typeof s=="boolean"?s:!!t}function ar(t,s,r){var a=Y.useRef(!1),n=Y.useState(0),i=n[1],l=Gn(t,s,r),o=Ot(),c=Y.useRef();c.current?c.current.setOptions(l):c.current=new fi(o,l);var d=c.current.getCurrentResult();Y.useEffect(function(){a.current=!0;var f=c.current.subscribe(ee.batchCalls(function(){a.current&&i(function(h){return h+1})}));return function(){a.current=!1,f()}},[]);var u=Y.useCallback(function(f,h){c.current.mutate(f,h).catch(ue)},[]);if(d.error&&Ta(void 0,c.current.options.useErrorBoundary,[d.error]))throw d.error;return K({},d,{mutate:u,mutateAsync:d.mutate})}function ji(t,s){var r=Y.useRef(!1),a=Y.useState(0),n=a[1],i=Ot(),l=vi(),o=i.defaultQueryObserverOptions(t);o.optimisticResults=!0,o.onError&&(o.onError=ee.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=ee.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=ee.batchCalls(o.onSettled)),o.suspense&&(typeof o.staleTime!="number"&&(o.staleTime=1e3),o.cacheTime===0&&(o.cacheTime=1)),(o.suspense||o.useErrorBoundary)&&(l.isReset()||(o.retryOnMount=!1));var c=Y.useState(function(){return new s(i,o)}),d=c[0],u=d.getOptimisticResult(o);if(Y.useEffect(function(){r.current=!0,l.clearReset();var f=d.subscribe(ee.batchCalls(function(){r.current&&n(function(h){return h+1})}));return d.updateResult(),function(){r.current=!1,f()}},[l,d]),Y.useEffect(function(){d.setOptions(o,{listeners:!1})},[o,d]),o.suspense&&u.isLoading)throw d.fetchOptimistic(o).then(function(f){var h=f.data;o.onSuccess==null||o.onSuccess(h),o.onSettled==null||o.onSettled(h,null)}).catch(function(f){l.clearReset(),o.onError==null||o.onError(f),o.onSettled==null||o.onSettled(void 0,f)});if(u.isError&&!l.isReset()&&!u.isFetching&&Ta(o.suspense,o.useErrorBoundary,[u.error,d.getCurrentQuery()]))throw u.error;return o.notifyOnChangeProps==="tracked"&&(u=d.trackResult(u,o)),u}function Ni(t,s,r){var a=Gt(t,s,r);return ji(a,hi)}let wi={data:""},ki=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||wi,Si=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ci=/\/\*[^]*?\*\/|  +/g,Ir=/\n+/g,Ie=(t,s)=>{let r="",a="",n="";for(let i in t){let l=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+l+";":a+=i[1]=="f"?Ie(l,i):i+"{"+Ie(l,i[1]=="k"?"":s)+"}":typeof l=="object"?a+=Ie(l,s?s.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=Ie.p?Ie.p(i,l):i+":"+l+";")}return r+(s&&n?s+"{"+n+"}":n)+a},Ae={},Da=t=>{if(typeof t=="object"){let s="";for(let r in t)s+=r+Da(t[r]);return s}return t},Ei=(t,s,r,a,n)=>{let i=Da(t),l=Ae[i]||(Ae[i]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(i));if(!Ae[l]){let c=i!==t?t:(d=>{let u,f,h=[{}];for(;u=Si.exec(d.replace(Ci,""));)u[4]?h.shift():u[3]?(f=u[3].replace(Ir," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace(Ir," ").trim();return h[0]})(t);Ae[l]=Ie(n?{["@keyframes "+l]:c}:c,r?"":"."+l)}let o=r&&Ae.g?Ae.g:null;return r&&(Ae.g=Ae[l]),((c,d,u,f)=>{f?d.data=d.data.replace(f,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Ae[l],s,a,o),l},Ti=(t,s,r)=>t.reduce((a,n,i)=>{let l=s[i];if(l&&l.call){let o=l(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=c?"."+c:o&&typeof o=="object"?o.props?"":Ie(o,""):o===!1?"":o}return a+n+(l??"")},"");function bs(t){let s=this||{},r=t.call?t(s.p):t;return Ei(r.unshift?r.raw?Ti(r,[].slice.call(arguments,1),s.p):r.reduce((a,n)=>Object.assign(a,n&&n.call?n(s.p):n),{}):r,ki(s.target),s.g,s.o,s.k)}let Ra,Qs,Ks;bs.bind({g:1});let Pe=bs.bind({k:1});function Di(t,s,r,a){Ie.p=s,Ra=t,Qs=r,Ks=a}function Be(t,s){let r=this||{};return function(){let a=arguments;function n(i,l){let o=Object.assign({},i),c=o.className||n.className;r.p=Object.assign({theme:Qs&&Qs()},o),r.o=/ *go\d+/.test(c),o.className=bs.apply(r,a)+(c?" "+c:"");let d=t;return t[0]&&(d=o.as||t,delete o.as),Ks&&d[0]&&Ks(o),Ra(d,o)}return n}}var Ri=t=>typeof t=="function",os=(t,s)=>Ri(t)?t(s):t,Oi=(()=>{let t=0;return()=>(++t).toString()})(),Oa=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");t=!s||s.matches}return t}})(),Fi=20,Fa=(t,s)=>{switch(s.type){case 0:return{...t,toasts:[s.toast,...t.toasts].slice(0,Fi)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===s.toast.id?{...i,...s.toast}:i)};case 2:let{toast:r}=s;return Fa(t,{type:t.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=s;return{...t,toasts:t.toasts.map(i=>i.id===a||a===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==s.toastId)};case 5:return{...t,pausedAt:s.time};case 6:let n=s.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+n}))}}},Jt=[],Ke={toasts:[],pausedAt:void 0},Je=t=>{Ke=Fa(Ke,t),Jt.forEach(s=>{s(Ke)})},Ai={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Mi=(t={})=>{let[s,r]=x.useState(Ke),a=x.useRef(Ke);x.useEffect(()=>(a.current!==Ke&&r(Ke),Jt.push(r),()=>{let i=Jt.indexOf(r);i>-1&&Jt.splice(i,1)}),[]);let n=s.toasts.map(i=>{var l,o,c;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((l=t[i.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||Ai[i.type],style:{...t.style,...(c=t[i.type])==null?void 0:c.style,...i.style}}});return{...s,toasts:n}},Pi=(t,s="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Oi()}),Ft=t=>(s,r)=>{let a=Pi(s,t,r);return Je({type:2,toast:a}),a.id},pe=(t,s)=>Ft("blank")(t,s);pe.error=Ft("error");pe.success=Ft("success");pe.loading=Ft("loading");pe.custom=Ft("custom");pe.dismiss=t=>{Je({type:3,toastId:t})};pe.remove=t=>Je({type:4,toastId:t});pe.promise=(t,s,r)=>{let a=pe.loading(s.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(n=>{let i=s.success?os(s.success,n):void 0;return i?pe.success(i,{id:a,...r,...r==null?void 0:r.success}):pe.dismiss(a),n}).catch(n=>{let i=s.error?os(s.error,n):void 0;i?pe.error(i,{id:a,...r,...r==null?void 0:r.error}):pe.dismiss(a)}),t};var _i=(t,s)=>{Je({type:1,toast:{id:t,height:s}})},Li=()=>{Je({type:5,time:Date.now()})},vt=new Map,Ii=1e3,Ui=(t,s=Ii)=>{if(vt.has(t))return;let r=setTimeout(()=>{vt.delete(t),Je({type:4,toastId:t})},s);vt.set(t,r)},Bi=t=>{let{toasts:s,pausedAt:r}=Mi(t);x.useEffect(()=>{if(r)return;let i=Date.now(),l=s.map(o=>{if(o.duration===1/0)return;let c=(o.duration||0)+o.pauseDuration-(i-o.createdAt);if(c<0){o.visible&&pe.dismiss(o.id);return}return setTimeout(()=>pe.dismiss(o.id),c)});return()=>{l.forEach(o=>o&&clearTimeout(o))}},[s,r]);let a=x.useCallback(()=>{r&&Je({type:6,time:Date.now()})},[r]),n=x.useCallback((i,l)=>{let{reverseOrder:o=!1,gutter:c=8,defaultPosition:d}=l||{},u=s.filter(p=>(p.position||d)===(i.position||d)&&p.height),f=u.findIndex(p=>p.id===i.id),h=u.filter((p,y)=>y<f&&p.visible).length;return u.filter(p=>p.visible).slice(...o?[h+1]:[0,h]).reduce((p,y)=>p+(y.height||0)+c,0)},[s]);return x.useEffect(()=>{s.forEach(i=>{if(i.dismissed)Ui(i.id,i.removeDelay);else{let l=vt.get(i.id);l&&(clearTimeout(l),vt.delete(i.id))}})},[s]),{toasts:s,handlers:{updateHeight:_i,startPause:Li,endPause:a,calculateOffset:n}}},qi=Pe`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,$i=Pe`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Vi=Pe`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,zi=Be("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${qi} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${$i} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Vi} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Qi=Pe`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ki=Be("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Qi} 1s linear infinite;
`,Hi=Pe`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Gi=Pe`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Yi=Be("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Hi} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Gi} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Wi=Be("div")`
  position: absolute;
`,Ji=Be("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Xi=Pe`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Zi=Be("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Xi} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,el=({toast:t})=>{let{icon:s,type:r,iconTheme:a}=t;return s!==void 0?typeof s=="string"?x.createElement(Zi,null,s):s:r==="blank"?null:x.createElement(Ji,null,x.createElement(Ki,{...a}),r!=="loading"&&x.createElement(Wi,null,r==="error"?x.createElement(zi,{...a}):x.createElement(Yi,{...a})))},tl=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,sl=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,rl="0%{opacity:0;} 100%{opacity:1;}",al="0%{opacity:1;} 100%{opacity:0;}",nl=Be("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,il=Be("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ll=(t,s)=>{let r=t.includes("top")?1:-1,[a,n]=Oa()?[rl,al]:[tl(r),sl(r)];return{animation:s?`${Pe(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Pe(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ol=x.memo(({toast:t,position:s,style:r,children:a})=>{let n=t.height?ll(t.position||s||"top-center",t.visible):{opacity:0},i=x.createElement(el,{toast:t}),l=x.createElement(il,{...t.ariaProps},os(t.message,t));return x.createElement(nl,{className:t.className,style:{...n,...r,...t.style}},typeof a=="function"?a({icon:i,message:l}):x.createElement(x.Fragment,null,i,l))});Di(x.createElement);var cl=({id:t,className:s,style:r,onHeightUpdate:a,children:n})=>{let i=x.useCallback(l=>{if(l){let o=()=>{let c=l.getBoundingClientRect().height;a(t,c)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return x.createElement("div",{ref:i,className:s,style:r},n)},dl=(t,s)=>{let r=t.includes("top"),a=r?{top:0}:{bottom:0},n=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Oa()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(r?1:-1)}px)`,...a,...n}},ul=bs`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Qt=16,hl=({reverseOrder:t,position:s="top-center",toastOptions:r,gutter:a,children:n,containerStyle:i,containerClassName:l})=>{let{toasts:o,handlers:c}=Bi(r);return x.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Qt,left:Qt,right:Qt,bottom:Qt,pointerEvents:"none",...i},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},o.map(d=>{let u=d.position||s,f=c.calculateOffset(d,{reverseOrder:t,gutter:a,defaultPosition:s}),h=dl(u,f);return x.createElement(cl,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?ul:"",style:h},d.type==="custom"?os(d.message,d):n?n(d):x.createElement(ol,{toast:d,position:u}))}))},Q=pe;function Aa(t,s){return function(){return t.apply(s,arguments)}}const{toString:ml}=Object.prototype,{getPrototypeOf:nr}=Object,{iterator:vs,toStringTag:Ma}=Symbol,js=(t=>s=>{const r=ml.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ce=t=>(t=t.toLowerCase(),s=>js(s)===t),Ns=t=>s=>typeof s===t,{isArray:lt}=Array,St=Ns("undefined");function At(t){return t!==null&&!St(t)&&t.constructor!==null&&!St(t.constructor)&&be(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Pa=Ce("ArrayBuffer");function fl(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Pa(t.buffer),s}const xl=Ns("string"),be=Ns("function"),_a=Ns("number"),Mt=t=>t!==null&&typeof t=="object",pl=t=>t===!0||t===!1,Xt=t=>{if(js(t)!=="object")return!1;const s=nr(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Ma in t)&&!(vs in t)},yl=t=>{if(!Mt(t)||At(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},gl=Ce("Date"),bl=Ce("File"),vl=Ce("Blob"),jl=Ce("FileList"),Nl=t=>Mt(t)&&be(t.pipe),wl=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||be(t.append)&&((s=js(t))==="formdata"||s==="object"&&be(t.toString)&&t.toString()==="[object FormData]"))},kl=Ce("URLSearchParams"),[Sl,Cl,El,Tl]=["ReadableStream","Request","Response","Headers"].map(Ce),Dl=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pt(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,n;if(typeof t!="object"&&(t=[t]),lt(t))for(a=0,n=t.length;a<n;a++)s.call(null,t[a],a,t);else{if(At(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let o;for(a=0;a<l;a++)o=i[a],s.call(null,t[o],o,t)}}function La(t,s){if(At(t))return null;s=s.toLowerCase();const r=Object.keys(t);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const He=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ia=t=>!St(t)&&t!==He;function Hs(){const{caseless:t}=Ia(this)&&this||{},s={},r=(a,n)=>{const i=t&&La(s,n)||n;Xt(s[i])&&Xt(a)?s[i]=Hs(s[i],a):Xt(a)?s[i]=Hs({},a):lt(a)?s[i]=a.slice():s[i]=a};for(let a=0,n=arguments.length;a<n;a++)arguments[a]&&Pt(arguments[a],r);return s}const Rl=(t,s,r,{allOwnKeys:a}={})=>(Pt(s,(n,i)=>{r&&be(n)?t[i]=Aa(n,r):t[i]=n},{allOwnKeys:a}),t),Ol=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Fl=(t,s,r,a)=>{t.prototype=Object.create(s.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},Al=(t,s,r,a)=>{let n,i,l;const o={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)l=n[i],(!a||a(l,t,s))&&!o[l]&&(s[l]=t[l],o[l]=!0);t=r!==!1&&nr(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},Ml=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const a=t.indexOf(s,r);return a!==-1&&a===r},Pl=t=>{if(!t)return null;if(lt(t))return t;let s=t.length;if(!_a(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},_l=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&nr(Uint8Array)),Ll=(t,s)=>{const a=(t&&t[vs]).call(t);let n;for(;(n=a.next())&&!n.done;){const i=n.value;s.call(t,i[0],i[1])}},Il=(t,s)=>{let r;const a=[];for(;(r=t.exec(s))!==null;)a.push(r);return a},Ul=Ce("HTMLFormElement"),Bl=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),Ur=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),ql=Ce("RegExp"),Ua=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),a={};Pt(r,(n,i)=>{let l;(l=s(n,i,t))!==!1&&(a[i]=l||n)}),Object.defineProperties(t,a)},$l=t=>{Ua(t,(s,r)=>{if(be(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(be(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Vl=(t,s)=>{const r={},a=n=>{n.forEach(i=>{r[i]=!0})};return lt(t)?a(t):a(String(t).split(s)),r},zl=()=>{},Ql=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function Kl(t){return!!(t&&be(t.append)&&t[Ma]==="FormData"&&t[vs])}const Hl=t=>{const s=new Array(10),r=(a,n)=>{if(Mt(a)){if(s.indexOf(a)>=0)return;if(At(a))return a;if(!("toJSON"in a)){s[n]=a;const i=lt(a)?[]:{};return Pt(a,(l,o)=>{const c=r(l,n+1);!St(c)&&(i[o]=c)}),s[n]=void 0,i}}return a};return r(t,0)},Gl=Ce("AsyncFunction"),Yl=t=>t&&(Mt(t)||be(t))&&be(t.then)&&be(t.catch),Ba=((t,s)=>t?setImmediate:s?((r,a)=>(He.addEventListener("message",({source:n,data:i})=>{n===He&&i===r&&a.length&&a.shift()()},!1),n=>{a.push(n),He.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",be(He.postMessage)),Wl=typeof queueMicrotask<"u"?queueMicrotask.bind(He):typeof process<"u"&&process.nextTick||Ba,Jl=t=>t!=null&&be(t[vs]),w={isArray:lt,isArrayBuffer:Pa,isBuffer:At,isFormData:wl,isArrayBufferView:fl,isString:xl,isNumber:_a,isBoolean:pl,isObject:Mt,isPlainObject:Xt,isEmptyObject:yl,isReadableStream:Sl,isRequest:Cl,isResponse:El,isHeaders:Tl,isUndefined:St,isDate:gl,isFile:bl,isBlob:vl,isRegExp:ql,isFunction:be,isStream:Nl,isURLSearchParams:kl,isTypedArray:_l,isFileList:jl,forEach:Pt,merge:Hs,extend:Rl,trim:Dl,stripBOM:Ol,inherits:Fl,toFlatObject:Al,kindOf:js,kindOfTest:Ce,endsWith:Ml,toArray:Pl,forEachEntry:Ll,matchAll:Il,isHTMLForm:Ul,hasOwnProperty:Ur,hasOwnProp:Ur,reduceDescriptors:Ua,freezeMethods:$l,toObjectSet:Vl,toCamelCase:Bl,noop:zl,toFiniteNumber:Ql,findKey:La,global:He,isContextDefined:Ia,isSpecCompliantForm:Kl,toJSONObject:Hl,isAsyncFn:Gl,isThenable:Yl,setImmediate:Ba,asap:Wl,isIterable:Jl};function V(t,s,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}w.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:w.toJSONObject(this.config),code:this.code,status:this.status}}});const qa=V.prototype,$a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{$a[t]={value:t}});Object.defineProperties(V,$a);Object.defineProperty(qa,"isAxiosError",{value:!0});V.from=(t,s,r,a,n,i)=>{const l=Object.create(qa);return w.toFlatObject(t,l,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),V.call(l,t.message,s,r,a,n),l.cause=t,l.name=t.name,i&&Object.assign(l,i),l};const Xl=null;function Gs(t){return w.isPlainObject(t)||w.isArray(t)}function Va(t){return w.endsWith(t,"[]")?t.slice(0,-2):t}function Br(t,s,r){return t?t.concat(s).map(function(n,i){return n=Va(n),!r&&i?"["+n+"]":n}).join(r?".":""):s}function Zl(t){return w.isArray(t)&&!t.some(Gs)}const eo=w.toFlatObject(w,{},null,function(s){return/^is[A-Z]/.test(s)});function ws(t,s,r){if(!w.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=w.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!w.isUndefined(b[v])});const a=r.metaTokens,n=r.visitor||u,i=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&w.isSpecCompliantForm(s);if(!w.isFunction(n))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(w.isDate(y))return y.toISOString();if(w.isBoolean(y))return y.toString();if(!c&&w.isBlob(y))throw new V("Blob is not supported. Use a Buffer instead.");return w.isArrayBuffer(y)||w.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,v,b){let S=y;if(y&&!b&&typeof y=="object"){if(w.endsWith(v,"{}"))v=a?v:v.slice(0,-2),y=JSON.stringify(y);else if(w.isArray(y)&&Zl(y)||(w.isFileList(y)||w.endsWith(v,"[]"))&&(S=w.toArray(y)))return v=Va(v),S.forEach(function(g,O){!(w.isUndefined(g)||g===null)&&s.append(l===!0?Br([v],O,i):l===null?v:v+"[]",d(g))}),!1}return Gs(y)?!0:(s.append(Br(b,v,i),d(y)),!1)}const f=[],h=Object.assign(eo,{defaultVisitor:u,convertValue:d,isVisitable:Gs});function p(y,v){if(!w.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(y),w.forEach(y,function(S,N){(!(w.isUndefined(S)||S===null)&&n.call(s,S,w.isString(N)?N.trim():N,v,h))===!0&&p(S,v?v.concat(N):[N])}),f.pop()}}if(!w.isObject(t))throw new TypeError("data must be an object");return p(t),s}function qr(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function ir(t,s){this._pairs=[],t&&ws(t,this,s)}const za=ir.prototype;za.append=function(s,r){this._pairs.push([s,r])};za.toString=function(s){const r=s?function(a){return s.call(this,a,qr)}:qr;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function to(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Qa(t,s,r){if(!s)return t;const a=r&&r.encode||to;w.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let i;if(n?i=n(s,r):i=w.isURLSearchParams(s)?s.toString():new ir(s,r).toString(a),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class $r{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){w.forEach(this.handlers,function(a){a!==null&&s(a)})}}const Ka={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},so=typeof URLSearchParams<"u"?URLSearchParams:ir,ro=typeof FormData<"u"?FormData:null,ao=typeof Blob<"u"?Blob:null,no={isBrowser:!0,classes:{URLSearchParams:so,FormData:ro,Blob:ao},protocols:["http","https","file","blob","url","data"]},lr=typeof window<"u"&&typeof document<"u",Ys=typeof navigator=="object"&&navigator||void 0,io=lr&&(!Ys||["ReactNative","NativeScript","NS"].indexOf(Ys.product)<0),lo=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",oo=lr&&window.location.href||"http://localhost",co=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lr,hasStandardBrowserEnv:io,hasStandardBrowserWebWorkerEnv:lo,navigator:Ys,origin:oo},Symbol.toStringTag,{value:"Module"})),fe={...co,...no};function uo(t,s){return ws(t,new fe.classes.URLSearchParams,{visitor:function(r,a,n,i){return fe.isNode&&w.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function ho(t){return w.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function mo(t){const s={},r=Object.keys(t);let a;const n=r.length;let i;for(a=0;a<n;a++)i=r[a],s[i]=t[i];return s}function Ha(t){function s(r,a,n,i){let l=r[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=r.length;return l=!l&&w.isArray(n)?n.length:l,c?(w.hasOwnProp(n,l)?n[l]=[n[l],a]:n[l]=a,!o):((!n[l]||!w.isObject(n[l]))&&(n[l]=[]),s(r,a,n[l],i)&&w.isArray(n[l])&&(n[l]=mo(n[l])),!o)}if(w.isFormData(t)&&w.isFunction(t.entries)){const r={};return w.forEachEntry(t,(a,n)=>{s(ho(a),n,r,0)}),r}return null}function fo(t,s,r){if(w.isString(t))try{return(s||JSON.parse)(t),w.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const _t={transitional:Ka,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,i=w.isObject(s);if(i&&w.isHTMLForm(s)&&(s=new FormData(s)),w.isFormData(s))return n?JSON.stringify(Ha(s)):s;if(w.isArrayBuffer(s)||w.isBuffer(s)||w.isStream(s)||w.isFile(s)||w.isBlob(s)||w.isReadableStream(s))return s;if(w.isArrayBufferView(s))return s.buffer;if(w.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return uo(s,this.formSerializer).toString();if((o=w.isFileList(s))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ws(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),fo(s)):s}],transformResponse:[function(s){const r=this.transitional||_t.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(w.isResponse(s)||w.isReadableStream(s))return s;if(s&&w.isString(s)&&(a&&!this.responseType||n)){const l=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s)}catch(o){if(l)throw o.name==="SyntaxError"?V.from(o,V.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fe.classes.FormData,Blob:fe.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};w.forEach(["delete","get","head","post","put","patch"],t=>{_t.headers[t]={}});const xo=w.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),po=t=>{const s={};let r,a,n;return t&&t.split(`
`).forEach(function(l){n=l.indexOf(":"),r=l.substring(0,n).trim().toLowerCase(),a=l.substring(n+1).trim(),!(!r||s[r]&&xo[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},Vr=Symbol("internals");function ft(t){return t&&String(t).trim().toLowerCase()}function Zt(t){return t===!1||t==null?t:w.isArray(t)?t.map(Zt):String(t)}function yo(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)s[a[1]]=a[2];return s}const go=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function _s(t,s,r,a,n){if(w.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!w.isString(s)){if(w.isString(a))return s.indexOf(a)!==-1;if(w.isRegExp(a))return a.test(s)}}function bo(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function vo(t,s){const r=w.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(n,i,l){return this[a].call(this,s,n,i,l)},configurable:!0})})}let ve=class{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function i(o,c,d){const u=ft(c);if(!u)throw new Error("header name must be a non-empty string");const f=w.findKey(n,u);(!f||n[f]===void 0||d===!0||d===void 0&&n[f]!==!1)&&(n[f||c]=Zt(o))}const l=(o,c)=>w.forEach(o,(d,u)=>i(d,u,c));if(w.isPlainObject(s)||s instanceof this.constructor)l(s,r);else if(w.isString(s)&&(s=s.trim())&&!go(s))l(po(s),r);else if(w.isObject(s)&&w.isIterable(s)){let o={},c,d;for(const u of s){if(!w.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?w.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}l(o,r)}else s!=null&&i(r,s,a);return this}get(s,r){if(s=ft(s),s){const a=w.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return yo(n);if(w.isFunction(r))return r.call(this,n,a);if(w.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=ft(s),s){const a=w.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||_s(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function i(l){if(l=ft(l),l){const o=w.findKey(a,l);o&&(!r||_s(a,a[o],o,r))&&(delete a[o],n=!0)}}return w.isArray(s)?s.forEach(i):i(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const i=r[a];(!s||_s(this,this[i],i,s,!0))&&(delete this[i],n=!0)}return n}normalize(s){const r=this,a={};return w.forEach(this,(n,i)=>{const l=w.findKey(a,i);if(l){r[l]=Zt(n),delete r[i];return}const o=s?bo(i):String(i).trim();o!==i&&delete r[i],r[o]=Zt(n),a[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return w.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&w.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[Vr]=this[Vr]={accessors:{}}).accessors,n=this.prototype;function i(l){const o=ft(l);a[o]||(vo(n,l),a[o]=!0)}return w.isArray(s)?s.forEach(i):i(s),this}};ve.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);w.reduceDescriptors(ve.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(a){this[r]=a}}});w.freezeMethods(ve);function Ls(t,s){const r=this||_t,a=s||r,n=ve.from(a.headers);let i=a.data;return w.forEach(t,function(o){i=o.call(r,i,n.normalize(),s?s.status:void 0)}),n.normalize(),i}function Ga(t){return!!(t&&t.__CANCEL__)}function ot(t,s,r){V.call(this,t??"canceled",V.ERR_CANCELED,s,r),this.name="CanceledError"}w.inherits(ot,V,{__CANCEL__:!0});function Ya(t,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):s(new V("Request failed with status code "+r.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function jo(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function No(t,s){t=t||10;const r=new Array(t),a=new Array(t);let n=0,i=0,l;return s=s!==void 0?s:1e3,function(c){const d=Date.now(),u=a[i];l||(l=d),r[n]=c,a[n]=d;let f=i,h=0;for(;f!==n;)h+=r[f++],f=f%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),d-l<s)return;const p=u&&d-u;return p?Math.round(h*1e3/p):void 0}}function wo(t,s){let r=0,a=1e3/s,n,i;const l=(d,u=Date.now())=>{r=u,n=null,i&&(clearTimeout(i),i=null),t(...d)};return[(...d)=>{const u=Date.now(),f=u-r;f>=a?l(d,u):(n=d,i||(i=setTimeout(()=>{i=null,l(n)},a-f)))},()=>n&&l(n)]}const cs=(t,s,r=3)=>{let a=0;const n=No(50,250);return wo(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-a,d=n(c),u=l<=o;a=l;const f={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-l)/d:void 0,event:i,lengthComputable:o!=null,[s?"download":"upload"]:!0};t(f)},r)},zr=(t,s)=>{const r=t!=null;return[a=>s[0]({lengthComputable:r,total:t,loaded:a}),s[1]]},Qr=t=>(...s)=>w.asap(()=>t(...s)),ko=fe.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,fe.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(fe.origin),fe.navigator&&/(msie|trident)/i.test(fe.navigator.userAgent)):()=>!0,So=fe.hasStandardBrowserEnv?{write(t,s,r,a,n,i){const l=[t+"="+encodeURIComponent(s)];w.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),w.isString(a)&&l.push("path="+a),w.isString(n)&&l.push("domain="+n),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Co(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Eo(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function Wa(t,s,r){let a=!Co(s);return t&&(a||r==!1)?Eo(t,s):s}const Kr=t=>t instanceof ve?{...t}:t;function We(t,s){s=s||{};const r={};function a(d,u,f,h){return w.isPlainObject(d)&&w.isPlainObject(u)?w.merge.call({caseless:h},d,u):w.isPlainObject(u)?w.merge({},u):w.isArray(u)?u.slice():u}function n(d,u,f,h){if(w.isUndefined(u)){if(!w.isUndefined(d))return a(void 0,d,f,h)}else return a(d,u,f,h)}function i(d,u){if(!w.isUndefined(u))return a(void 0,u)}function l(d,u){if(w.isUndefined(u)){if(!w.isUndefined(d))return a(void 0,d)}else return a(void 0,u)}function o(d,u,f){if(f in s)return a(d,u);if(f in t)return a(void 0,d)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,u,f)=>n(Kr(d),Kr(u),f,!0)};return w.forEach(Object.keys({...t,...s}),function(u){const f=c[u]||n,h=f(t[u],s[u],u);w.isUndefined(h)&&f!==o||(r[u]=h)}),r}const Ja=t=>{const s=We({},t);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:o}=s;s.headers=l=ve.from(l),s.url=Qa(Wa(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(w.isFormData(r)){if(fe.hasStandardBrowserEnv||fe.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((c=l.getContentType())!==!1){const[d,...u]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];l.setContentType([d||"multipart/form-data",...u].join("; "))}}if(fe.hasStandardBrowserEnv&&(a&&w.isFunction(a)&&(a=a(s)),a||a!==!1&&ko(s.url))){const d=n&&i&&So.read(i);d&&l.set(n,d)}return s},To=typeof XMLHttpRequest<"u",Do=To&&function(t){return new Promise(function(r,a){const n=Ja(t);let i=n.data;const l=ve.from(n.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=n,u,f,h,p,y;function v(){p&&p(),y&&y(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(n.method.toUpperCase(),n.url,!0),b.timeout=n.timeout;function S(){if(!b)return;const g=ve.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),k={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:g,config:t,request:b};Ya(function(_){r(_),v()},function(_){a(_),v()},k),b=null}"onloadend"in b?b.onloadend=S:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(S)},b.onabort=function(){b&&(a(new V("Request aborted",V.ECONNABORTED,t,b)),b=null)},b.onerror=function(){a(new V("Network Error",V.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let O=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const k=n.transitional||Ka;n.timeoutErrorMessage&&(O=n.timeoutErrorMessage),a(new V(O,k.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,t,b)),b=null},i===void 0&&l.setContentType(null),"setRequestHeader"in b&&w.forEach(l.toJSON(),function(O,k){b.setRequestHeader(k,O)}),w.isUndefined(n.withCredentials)||(b.withCredentials=!!n.withCredentials),o&&o!=="json"&&(b.responseType=n.responseType),d&&([h,y]=cs(d,!0),b.addEventListener("progress",h)),c&&b.upload&&([f,p]=cs(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",p)),(n.cancelToken||n.signal)&&(u=g=>{b&&(a(!g||g.type?new ot(null,t,b):g),b.abort(),b=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const N=jo(n.url);if(N&&fe.protocols.indexOf(N)===-1){a(new V("Unsupported protocol "+N+":",V.ERR_BAD_REQUEST,t));return}b.send(i||null)})},Ro=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let a=new AbortController,n;const i=function(d){if(!n){n=!0,o();const u=d instanceof Error?d:this.reason;a.abort(u instanceof V?u:new ot(u instanceof Error?u.message:u))}};let l=s&&setTimeout(()=>{l=null,i(new V(`timeout ${s} of ms exceeded`,V.ETIMEDOUT))},s);const o=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:c}=a;return c.unsubscribe=()=>w.asap(o),c}},Oo=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let a=0,n;for(;a<r;)n=a+s,yield t.slice(a,n),a=n},Fo=async function*(t,s){for await(const r of Ao(t))yield*Oo(r,s)},Ao=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},Hr=(t,s,r,a)=>{const n=Fo(t,s);let i=0,l,o=c=>{l||(l=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await n.next();if(d){o(),c.close();return}let f=u.byteLength;if(r){let h=i+=f;r(h)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),n.return()}},{highWaterMark:2})},ks=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Xa=ks&&typeof ReadableStream=="function",Mo=ks&&(typeof TextEncoder=="function"?(t=>s=>t.encode(s))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Za=(t,...s)=>{try{return!!t(...s)}catch{return!1}},Po=Xa&&Za(()=>{let t=!1;const s=new Request(fe.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!s}),Gr=64*1024,Ws=Xa&&Za(()=>w.isReadableStream(new Response("").body)),ds={stream:Ws&&(t=>t.body)};ks&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!ds[s]&&(ds[s]=w.isFunction(t[s])?r=>r[s]():(r,a)=>{throw new V(`Response type '${s}' is not supported`,V.ERR_NOT_SUPPORT,a)})})})(new Response);const _o=async t=>{if(t==null)return 0;if(w.isBlob(t))return t.size;if(w.isSpecCompliantForm(t))return(await new Request(fe.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(w.isArrayBufferView(t)||w.isArrayBuffer(t))return t.byteLength;if(w.isURLSearchParams(t)&&(t=t+""),w.isString(t))return(await Mo(t)).byteLength},Lo=async(t,s)=>{const r=w.toFiniteNumber(t.getContentLength());return r??_o(s)},Io=ks&&(async t=>{let{url:s,method:r,data:a,signal:n,cancelToken:i,timeout:l,onDownloadProgress:o,onUploadProgress:c,responseType:d,headers:u,withCredentials:f="same-origin",fetchOptions:h}=Ja(t);d=d?(d+"").toLowerCase():"text";let p=Ro([n,i&&i.toAbortSignal()],l),y;const v=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let b;try{if(c&&Po&&r!=="get"&&r!=="head"&&(b=await Lo(u,a))!==0){let k=new Request(s,{method:"POST",body:a,duplex:"half"}),D;if(w.isFormData(a)&&(D=k.headers.get("content-type"))&&u.setContentType(D),k.body){const[_,z]=zr(b,cs(Qr(c)));a=Hr(k.body,Gr,_,z)}}w.isString(f)||(f=f?"include":"omit");const S="credentials"in Request.prototype;y=new Request(s,{...h,signal:p,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:a,duplex:"half",credentials:S?f:void 0});let N=await fetch(y,h);const g=Ws&&(d==="stream"||d==="response");if(Ws&&(o||g&&v)){const k={};["status","statusText","headers"].forEach(T=>{k[T]=N[T]});const D=w.toFiniteNumber(N.headers.get("content-length")),[_,z]=o&&zr(D,cs(Qr(o),!0))||[];N=new Response(Hr(N.body,Gr,_,()=>{z&&z(),v&&v()}),k)}d=d||"text";let O=await ds[w.findKey(ds,d)||"text"](N,t);return!g&&v&&v(),await new Promise((k,D)=>{Ya(k,D,{data:O,headers:ve.from(N.headers),status:N.status,statusText:N.statusText,config:t,request:y})})}catch(S){throw v&&v(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new V("Network Error",V.ERR_NETWORK,t,y),{cause:S.cause||S}):V.from(S,S&&S.code,t,y)}}),Js={http:Xl,xhr:Do,fetch:Io};w.forEach(Js,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const Yr=t=>`- ${t}`,Uo=t=>w.isFunction(t)||t===null||t===!1,en={getAdapter:t=>{t=w.isArray(t)?t:[t];const{length:s}=t;let r,a;const n={};for(let i=0;i<s;i++){r=t[i];let l;if(a=r,!Uo(r)&&(a=Js[(l=String(r)).toLowerCase()],a===void 0))throw new V(`Unknown adapter '${l}'`);if(a)break;n[l||"#"+i]=a}if(!a){const i=Object.entries(n).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=s?i.length>1?`since :
`+i.map(Yr).join(`
`):" "+Yr(i[0]):"as no adapter specified";throw new V("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:Js};function Is(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ot(null,t)}function Wr(t){return Is(t),t.headers=ve.from(t.headers),t.data=Ls.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),en.getAdapter(t.adapter||_t.adapter)(t).then(function(a){return Is(t),a.data=Ls.call(t,t.transformResponse,a),a.headers=ve.from(a.headers),a},function(a){return Ga(a)||(Is(t),a&&a.response&&(a.response.data=Ls.call(t,t.transformResponse,a.response),a.response.headers=ve.from(a.response.headers))),Promise.reject(a)})}const tn="1.11.0",Ss={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Ss[t]=function(a){return typeof a===t||"a"+(s<1?"n ":" ")+t}});const Jr={};Ss.transitional=function(s,r,a){function n(i,l){return"[Axios v"+tn+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,o)=>{if(s===!1)throw new V(n(l," has been removed"+(r?" in "+r:"")),V.ERR_DEPRECATED);return r&&!Jr[l]&&(Jr[l]=!0,console.warn(n(l," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(i,l,o):!0}};Ss.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function Bo(t,s,r){if(typeof t!="object")throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let n=a.length;for(;n-- >0;){const i=a[n],l=s[i];if(l){const o=t[i],c=o===void 0||l(o,i,t);if(c!==!0)throw new V("option "+i+" must be "+c,V.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new V("Unknown option "+i,V.ERR_BAD_OPTION)}}const es={assertOptions:Bo,validators:Ss},Ee=es.validators;let Ye=class{constructor(s){this.defaults=s||{},this.interceptors={request:new $r,response:new $r}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=We(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:i}=r;a!==void 0&&es.assertOptions(a,{silentJSONParsing:Ee.transitional(Ee.boolean),forcedJSONParsing:Ee.transitional(Ee.boolean),clarifyTimeoutError:Ee.transitional(Ee.boolean)},!1),n!=null&&(w.isFunction(n)?r.paramsSerializer={serialize:n}:es.assertOptions(n,{encode:Ee.function,serialize:Ee.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),es.assertOptions(r,{baseUrl:Ee.spelling("baseURL"),withXsrfToken:Ee.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&w.merge(i.common,i[r.method]);i&&w.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),r.headers=ve.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let u,f=0,h;if(!c){const y=[Wr.bind(this),void 0];for(y.unshift(...o),y.push(...d),h=y.length,u=Promise.resolve(r);f<h;)u=u.then(y[f++],y[f++]);return u}h=o.length;let p=r;for(f=0;f<h;){const y=o[f++],v=o[f++];try{p=y(p)}catch(b){v.call(this,b);break}}try{u=Wr.call(this,p)}catch(y){return Promise.reject(y)}for(f=0,h=d.length;f<h;)u=u.then(d[f++],d[f++]);return u}getUri(s){s=We(this.defaults,s);const r=Wa(s.baseURL,s.url,s.allowAbsoluteUrls);return Qa(r,s.params,s.paramsSerializer)}};w.forEach(["delete","get","head","options"],function(s){Ye.prototype[s]=function(r,a){return this.request(We(a||{},{method:s,url:r,data:(a||{}).data}))}});w.forEach(["post","put","patch"],function(s){function r(a){return function(i,l,o){return this.request(We(o||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Ye.prototype[s]=r(),Ye.prototype[s+"Form"]=r(!0)});let qo=class sn{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(o=>{a.subscribe(o),i=o}).then(n);return l.cancel=function(){a.unsubscribe(i)},l},s(function(i,l,o){a.reason||(a.reason=new ot(i,l,o),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new sn(function(n){s=n}),cancel:s}}};function $o(t){return function(r){return t.apply(null,r)}}function Vo(t){return w.isObject(t)&&t.isAxiosError===!0}const Xs={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xs).forEach(([t,s])=>{Xs[s]=t});function rn(t){const s=new Ye(t),r=Aa(Ye.prototype.request,s);return w.extend(r,Ye.prototype,s,{allOwnKeys:!0}),w.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return rn(We(t,n))},r}const re=rn(_t);re.Axios=Ye;re.CanceledError=ot;re.CancelToken=qo;re.isCancel=Ga;re.VERSION=tn;re.toFormData=ws;re.AxiosError=V;re.Cancel=re.CanceledError;re.all=function(s){return Promise.all(s)};re.spread=$o;re.isAxiosError=Vo;re.mergeConfig=We;re.AxiosHeaders=ve;re.formToJSON=t=>Ha(w.isHTMLForm(t)?new FormData(t):t);re.getAdapter=en.getAdapter;re.HttpStatusCode=Xs;re.default=re;const{Axios:od,AxiosError:cd,CanceledError:dd,isCancel:ud,CancelToken:hd,VERSION:md,all:fd,Cancel:xd,isAxiosError:pd,spread:yd,toFormData:gd,AxiosHeaders:bd,HttpStatusCode:vd,formToJSON:jd,getAdapter:Nd,mergeConfig:wd}=re,F=re.create({baseURL:"/api",timeout:3e5,headers:{"Content-Type":"application/json"}});F.interceptors.request.use(t=>{const s=localStorage.getItem("token");return console.log("[DEBUG] API Request - Token:",s?"Token var":"Token yok"),console.log("[DEBUG] API Request - URL:",t.url),s?(t.headers.Authorization=`Bearer ${s}`,console.log("[DEBUG] API Request - Authorization header eklendi")):console.log("[DEBUG] API Request - Token bulunamadı, Authorization header eklenmedi"),t},t=>(console.error("[DEBUG] API Request Error:",t),Promise.reject(t)));F.interceptors.response.use(t=>(console.log("[DEBUG] API Response - Status:",t.status,"URL:",t.config.url),t),t=>{var s,r,a;return console.error("[DEBUG] API Response Error:",(s=t.response)==null?void 0:s.status,(r=t.response)==null?void 0:r.data),((a=t.response)==null?void 0:a.status)>=500&&Q.error("Sunucu hatası oluştu. Lütfen daha sonra tekrar deneyin."),Promise.reject(t)});const Kt={login:t=>F.post("/auth/login",t),register:t=>F.post("/auth/register",t),getProfile:()=>F.get("/auth/profile"),changePassword:t=>F.put("/auth/change-password",t)},an=x.createContext(),or=()=>{const t=x.useContext(an);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},zo=({children:t})=>{const[s,r]=x.useState(null),[a,n]=x.useState(!0),i=()=>localStorage.getItem("token"),l=p=>{p?localStorage.setItem("token",p):localStorage.removeItem("token")},o=async()=>{var p;try{if(!i()){n(!1);return}const v=await Kt.getProfile();v.data&&v.data.data&&v.data.data.user?r(v.data.data.user):(console.error("Invalid response format:",v.data),l(null),r(null))}catch(y){console.error("Load user error:",y),((p=y.response)==null?void 0:p.status)===401&&(l(null),r(null))}finally{n(!1)}},c=async p=>{var y,v;try{console.log("Login isteği gönderiliyor:",p);const b=await Kt.login(p);console.log("Login response:",b.data);const{user:S,token:N}=b.data.data;return r(S),l(N),console.log("User state güncellendi:",S),Q.success("Başarıyla giriş yapıldı"),{success:!0}}catch(b){console.error("Login error:",b);const S=((v=(y=b.response)==null?void 0:y.data)==null?void 0:v.error)||"Giriş yapılırken hata oluştu";return Q.error(S),{success:!1,error:S}}},d=async p=>{var y,v;try{const b=await Kt.register(p),{user:S,token:N}=b.data.data;return r(S),l(N),Q.success("Hesap başarıyla oluşturuldu"),{success:!0}}catch(b){const S=((v=(y=b.response)==null?void 0:y.data)==null?void 0:v.error)||"Kayıt olurken hata oluştu";return Q.error(S),{success:!1,error:S}}},u=()=>{r(null),l(null),Q.success("Başarıyla çıkış yapıldı")},f=async p=>{var y,v;try{return await Kt.changePassword(p),Q.success("Şifre başarıyla değiştirildi"),{success:!0}}catch(b){const S=((v=(y=b.response)==null?void 0:y.data)==null?void 0:v.error)||"Şifre değiştirilirken hata oluştu";return Q.error(S),{success:!1,error:S}}};x.useEffect(()=>{o()},[]);const h={user:s,loading:a,login:c,register:d,logout:u,changePassword:f,isAuthenticated:!!s};return e.jsx(an.Provider,{value:h,children:t})};var Qo={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ko=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ho=(t,s)=>{const r=x.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,children:o,...c},d)=>x.createElement("svg",{ref:d,...Qo,width:n,height:n,stroke:a,strokeWidth:l?Number(i)*24/Number(n):i,className:`lucide lucide-${Ko(t)}`,...c},[...s.map(([u,f])=>x.createElement(u,f)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${t}`,r};var H=Ho;const Ct=H("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Go=H("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),jt=H("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Zs=H("Bug",[["rect",{width:"8",height:"14",x:"8",y:"6",rx:"4",key:"hq8nra"}],["path",{d:"m19 7-3 2",key:"fmg8ec"}],["path",{d:"m5 7 3 2",key:"dkxqes"}],["path",{d:"m19 19-3-2",key:"1hbhi4"}],["path",{d:"m5 19 3-2",key:"dvt2ee"}],["path",{d:"M20 13h-4",key:"1agfp2"}],["path",{d:"M4 13h4",key:"1bwh8b"}],["path",{d:"m10 4 1 2",key:"1pot59"}],["path",{d:"m14 4-1 2",key:"m8sn0o"}]]),Cs=H("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),us=H("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Yo=H("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Wo=H("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Jo=H("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Xr=H("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),hs=H("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),je=H("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Es=H("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Xo=H("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Lt=H("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Zr=H("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),De=H("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),cr=H("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Zo=H("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),ec=H("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),tc=H("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),sc=H("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),nn=H("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),ea=H("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Et=H("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Tt=H("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ln=H("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),ms=H("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),on=H("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),cn=H("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),yt=H("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),rc=H("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),dn=H("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),rt=H("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),dr=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ac=()=>{const[t,s]=x.useState(!1),{user:r,logout:a}=or(),n=On(),i=ys(),l=[{name:"Dashboard",href:"/dashboard",icon:Zo},{name:"Müşteriler",href:"/customers",icon:rt},{name:"İşlemler",href:"/transactions",icon:De},{name:"Kategoriler",href:"/categories",icon:jt},{name:"Ekstreler",href:"/extracts",icon:yt},{name:"Raporlar",href:"/reports",icon:jt},{name:"Ödenmemiş Faturalar",href:"/unpaid-invoices",icon:De},{name:"Ödenmiş Faturalar",href:"/paid-invoices",icon:us},{name:"FIFO Debug",href:"/debug-fifo",icon:Zs},{name:"Kasa",href:"/cash",icon:hs},{name:"Banka",href:"/banking",icon:hs}],o=()=>{a(),i("/login")},c=d=>d==="/"?n.pathname==="/":n.pathname.startsWith(d);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${t?"block":"hidden"}`,children:[e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>s(!1)}),e.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[e.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Finansal Yönetim"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(dr,{size:24})})]}),e.jsx("nav",{className:"flex-1 space-y-1 px-2 py-4",children:l.map(d=>{const u=d.icon;return e.jsxs(kt,{to:d.href,onClick:()=>s(!1),className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${c(d.href)?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx(u,{className:`mr-3 h-5 w-5 ${c(d.href)?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),d.name]},d.name)})})]})]}),e.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:e.jsxs("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200",children:[e.jsx("div",{className:"flex h-16 items-center px-4",children:e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Finansal Yönetim"})}),e.jsx("nav",{className:"flex-1 space-y-1 px-2 py-4",children:l.map(d=>{const u=d.icon;return e.jsxs(kt,{to:d.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${c(d.href)?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx(u,{className:`mr-3 h-5 w-5 ${c(d.href)?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),d.name]},d.name)})})]})}),e.jsxs("div",{className:"lg:pl-64",children:[e.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[e.jsx("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>s(!0),children:e.jsx(sc,{size:24})}),e.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[e.jsx("div",{className:"flex flex-1"}),e.jsx("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center gap-x-3",children:[e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(dn,{size:20,className:"text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:r==null?void 0:r.username})]}),e.jsx("div",{className:"flex items-center gap-x-2",children:e.jsxs("button",{onClick:o,className:"flex items-center gap-x-1 text-sm text-gray-500 hover:text-gray-700",children:[e.jsx(tc,{size:16}),"Çıkış"]})})]})})})]})]}),e.jsx("main",{className:"py-6",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e.jsx(Fn,{})})})]})]})},nc=()=>{const[t,s]=x.useState(!0),[r,a]=x.useState(!1),[n,i]=x.useState(!1),{login:l,register:o}=or(),c=ys(),[d,u]=x.useState({username:"",email:"",password:"",confirmPassword:""}),f=p=>{u({...d,[p.target.name]:p.target.value})},h=async p=>{p.preventDefault(),i(!0);try{if(t)(await l({username:d.username,password:d.password})).success&&(console.log("Login başarılı, yönlendiriliyor..."),c("/",{replace:!0}));else{if(d.password!==d.confirmPassword){alert("Şifreler eşleşmiyor");return}(await o({username:d.username,email:d.email,password:d.password})).success&&(console.log("Kayıt başarılı, yönlendiriliyor..."),c("/",{replace:!0}))}}catch(y){console.error("Form submission error:",y)}finally{i(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:t?"Hesabınıza giriş yapın":"Yeni hesap oluşturun"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:t?e.jsxs(e.Fragment,{children:["Veya"," ",e.jsx("button",{onClick:()=>s(!1),className:"font-medium text-primary-600 hover:text-primary-500",children:"yeni hesap oluşturun"})]}):e.jsxs(e.Fragment,{children:["Zaten hesabınız var mı?"," ",e.jsx("button",{onClick:()=>s(!0),className:"font-medium text-primary-600 hover:text-primary-500",children:"Giriş yapın"})]})})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"sr-only",children:"Kullanıcı Adı"}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"input rounded-t-md",placeholder:"Kullanıcı adı",value:d.username,onChange:f})]}),!t&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"input",placeholder:"Email adresi",value:d.email,onChange:f})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Şifre"}),e.jsx("input",{id:"password",name:"password",type:r?"text":"password",required:!0,className:`input ${t?"rounded-b-md":""}`,placeholder:"Şifre",value:d.password,onChange:f}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!r),children:r?e.jsx(Xo,{className:"h-5 w-5 text-gray-400"}):e.jsx(Lt,{className:"h-5 w-5 text-gray-400"})})]}),!t&&e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Şifre Tekrar"}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:r?"text":"password",required:!0,className:"input rounded-b-md",placeholder:"Şifre tekrar",value:d.confirmPassword,onChange:f})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e.jsx(e.Fragment,{children:t?e.jsxs(e.Fragment,{children:[e.jsx(ec,{className:"h-5 w-5 mr-2"}),"Giriş Yap"]}):e.jsxs(e.Fragment,{children:[e.jsx(rc,{className:"h-5 w-5 mr-2"}),"Kayıt Ol"]})})})})]})]})})},ye={getDashboardSummary:(t={})=>F.get("/reports/dashboard",{params:t}),getMonthlyTrend:(t={})=>F.get("/reports/monthly-trend",{params:t}),getDailyTrend:(t={})=>F.get("/reports/daily-trend",{params:t}),getCategoryReport:(t={})=>F.get("/reports/category",{params:t}),getCustomerReport:(t={})=>F.get("/reports/customer",{params:t}),getCashFlowReport:(t={})=>F.get("/reports/cash-flow",{params:t}),getCustomerPaymentPerformance:(t={})=>F.get("/reports/customer-payment-performance",{params:t}),getUnpaidInvoices:(t="")=>F.get(`/reports/unpaid-invoices?${t}`),getCustomerUnpaidInvoicesSummary:t=>F.get(`/reports/customer/${t}/unpaid-invoices`),getPaidInvoices:(t="")=>F.get(`/reports/paid-invoices?${t}`),getCustomerPaidInvoicesSummary:t=>F.get(`/reports/customer/${t}/paid-invoices`),getCustomerPayments:t=>F.get(`/reports/customer/${t}/payments`),getDebugFifo:(t="")=>F.get(`/reports/debug-fifo?${t}`),getOverdueByDays:t=>F.get("/reports/overdue-by-days",{params:{days:t}})},Dt={getAllTransactions:(t={})=>F.get("/transactions",{params:t}),getTransaction:t=>F.get(`/transactions/${t}`),createTransaction:t=>F.post("/transactions",t),updateTransaction:(t,s)=>F.put(`/transactions/${t}`,s),deleteTransaction:t=>F.delete(`/transactions/${t}`),deleteMultipleTransactions:t=>F.delete("/transactions/bulk",{data:{ids:t}}),getTransactionStats:(t={})=>F.get("/transactions/stats",{params:t})},ta=()=>{const[t,s]=x.useState({totalIncome:0,totalExpense:0,totalCustomers:0,totalTransactions:0}),[r,a]=x.useState([]),[n,i]=x.useState(!0);x.useEffect(()=>{(async()=>{try{i(!0);const u=(await ye.getDashboardSummary()).data,h=(await Dt.getAllTransactions({limit:5,sortBy:"date",sortOrder:"desc"})).data.transactions;s({totalIncome:u.totalIncome||0,totalExpense:u.totalExpense||0,totalCustomers:u.customerCount||0,totalTransactions:u.totalTransactions||0}),a(h||[])}catch(d){console.error("Dashboard verileri alınırken hata:",d),Q.error("Dashboard verileri alınırken hata oluştu")}finally{i(!1)}})()},[]);const l=c=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(c),o=c=>new Date(c).toLocaleDateString("tr-TR");return n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Finansal durumunuzun genel özeti"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(cn,{className:"h-8 w-8 text-success-600"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Toplam Gelir"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:l(t.totalIncome)})]})})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(on,{className:"h-8 w-8 text-danger-600"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Toplam Gider"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:l(t.totalExpense)})]})})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(rt,{className:"h-8 w-8 text-primary-600"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Toplam Müşteri"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:t.totalCustomers})]})})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(hs,{className:"h-8 w-8 text-warning-600"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Toplam İşlem"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:t.totalTransactions})]})})]})})})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Son İşlemler"}),e.jsx("p",{className:"card-description",children:"Son 5 işleminizin listesi"})]}),e.jsx("div",{className:"card-content",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{className:"table-header-cell",children:"Tarih"}),e.jsx("th",{className:"table-header-cell",children:"Açıklama"}),e.jsx("th",{className:"table-header-cell",children:"Müşteri"}),e.jsx("th",{className:"table-header-cell",children:"Tutar"}),e.jsx("th",{className:"table-header-cell",children:"Tür"})]})}),e.jsx("tbody",{children:r.map(c=>e.jsxs("tr",{className:"table-row",children:[e.jsx("td",{className:"table-cell",children:o(c.date)}),e.jsx("td",{className:"table-cell",children:c.description}),e.jsx("td",{className:"table-cell",children:c.customer||"-"}),e.jsx("td",{className:"table-cell",children:e.jsx("span",{className:`font-medium ${c.type==="income"?"text-success-600":c.type==="expense"?"text-danger-600":"text-gray-900"}`,children:l(c.amount)})}),e.jsx("td",{className:"table-cell",children:e.jsx("span",{className:`badge ${c.type==="income"?"badge-success":c.type==="expense"?"badge-danger":"badge-primary"}`,children:c.type==="income"?"Gelir":c.type==="expense"?"Gider":"Müşteri"})})]},c.id))})]})})})]})]})},er={getAllCategories:(t={})=>F.get("/categories",{params:t}),searchCategories:(t={})=>F.get("/categories/search",{params:t}),getCategory:t=>F.get(`/categories/${t}`),getCategoryStats:t=>F.get(`/categories/${t}/stats`),createCategory:t=>F.post("/categories",t),updateCategory:(t,s)=>F.put(`/categories/${t}`,s),deleteCategory:t=>F.delete(`/categories/${t}`)},ur={getAllCustomers:(t={})=>F.get("/customers",{params:t}),getCustomers:(t={})=>F.get("/customers",{params:t}),getCustomer:t=>F.get(`/customers/${t}`),createCustomer:t=>F.post("/customers",t),updateCustomer:(t,s)=>F.put(`/customers/${t}`,s),updateCustomerDueDays:(t,s)=>F.patch(`/customers/${t}/due-days`,{dueDays:s}),deleteCustomer:t=>F.delete(`/customers/${t}`),deleteMultipleCustomers:t=>F.delete("/customers/bulk",{data:{ids:t}}),getCustomerStats:t=>F.get(`/customers/${t}/stats`),searchCustomers:(t={})=>F.get("/customers/search",{params:t}),deleteOldCustomers:(t={})=>F.delete("/customers/delete-old",{data:t})},un=({isOpen:t,onClose:s,title:r,children:a,size:n="md"})=>{if(x.useEffect(()=>{const l=o=>{o.key==="Escape"&&s()};return t&&(document.addEventListener("keydown",l),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",l),document.body.style.overflow="unset"}},[t,s]),!t)return null;const i={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:s}),e.jsxs("div",{className:`relative w-full ${i[n]} bg-white rounded-lg shadow-xl`,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(dr,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"p-6",children:a})]})]})})},ic=({isOpen:t,onClose:s,transaction:r=null,onSuccess:a})=>{const[n,i]=x.useState({description:"",amount:"",type:"EXPENSE",categoryId:"",customerId:"",date:new Date().toISOString().split("T")[0],notes:""}),[l,o]=x.useState(!1),[c,d]=x.useState([]),[u,f]=x.useState([]);x.useEffect(()=>{r&&i({description:r.description||"",amount:r.amount||"",type:r.type||"EXPENSE",categoryId:r.categoryId||"",customerId:r.customerId||"",date:r.date?new Date(r.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],notes:r.notes||""})},[r]),x.useEffect(()=>{h(),p()},[]);const h=async()=>{try{const b=await er.getAllCategories();d(b.data.data||[])}catch(b){console.error("Kategoriler yüklenirken hata:",b)}},p=async()=>{try{const b=await ur.getAllCustomers();f(b.data.data||[])}catch(b){console.error("Müşteriler yüklenirken hata:",b)}},y=async b=>{if(b.preventDefault(),!n.description||!n.amount||!n.categoryId){Q.error("Lütfen gerekli alanları doldurun");return}try{o(!0);const S={...n,amount:parseFloat(n.amount)};r?(await Dt.updateTransaction(r.id,S),Q.success("İşlem başarıyla güncellendi")):(await Dt.createTransaction(S),Q.success("İşlem başarıyla oluşturuldu")),a==null||a(),s()}catch(S){console.error("İşlem kaydedilirken hata:",S),Q.error("İşlem kaydedilirken hata oluştu")}finally{o(!1)}},v=(b,S)=>{i(N=>({...N,[b]:S}))};return e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"İşlem Türü"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>v("type","INCOME"),className:`p-3 rounded-lg border-2 text-center transition-colors ${n.type==="INCOME"?"border-success-500 bg-success-50 text-success-700":"border-gray-300 hover:border-gray-400"}`,children:[e.jsx(je,{className:"h-6 w-6 mx-auto mb-2"}),"Gelir"]}),e.jsxs("button",{type:"button",onClick:()=>v("type","EXPENSE"),className:`p-3 rounded-lg border-2 text-center transition-colors ${n.type==="EXPENSE"?"border-danger-500 bg-danger-50 text-danger-700":"border-gray-300 hover:border-gray-400"}`,children:[e.jsx(je,{className:"h-6 w-6 mx-auto mb-2"}),"Gider"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Açıklama *"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:n.description,onChange:b=>v("description",b.target.value),className:"input pl-10",placeholder:"İşlem açıklaması",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tutar (₺) *"}),e.jsxs("div",{className:"relative",children:[e.jsx(je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"number",step:"0.01",value:n.amount,onChange:b=>v("amount",b.target.value),className:"input pl-10",placeholder:"0.00",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsxs("select",{value:n.categoryId,onChange:b=>v("categoryId",b.target.value),className:"input pl-10",required:!0,children:[e.jsx("option",{value:"",children:"Kategori seçin"}),c.filter(b=>b.type===n.type).map(b=>e.jsx("option",{value:b.id,children:b.name},b.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Müşteri"}),e.jsxs("div",{className:"relative",children:[e.jsx(dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsxs("select",{value:n.customerId,onChange:b=>v("customerId",b.target.value),className:"input pl-10",children:[e.jsx("option",{value:"",children:"Müşteri seçin (opsiyonel)"}),u.map(b=>e.jsx("option",{value:b.id,children:b.name},b.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tarih"}),e.jsxs("div",{className:"relative",children:[e.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"date",value:n.date,onChange:b=>v("date",b.target.value),className:"input pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notlar"}),e.jsx("textarea",{value:n.notes,onChange:b=>v("notes",b.target.value),className:"input",rows:3,placeholder:"Ek notlar..."})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"btn btn-secondary btn-md",children:"İptal"}),e.jsx("button",{type:"submit",disabled:l,className:"btn btn-primary btn-md",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Kaydediliyor..."]}):r?"Güncelle":"Kaydet"})]})]})},lc=()=>{const[t,s]=x.useState(""),[r,a]=x.useState([]),[n,i]=x.useState(!0),[l,o]=x.useState({type:"",categoryId:"",customerId:"",startDate:"",endDate:""}),[c,d]=x.useState({page:1,limit:25,total:0,pages:0}),[u,f]=x.useState(!1),[h,p]=x.useState(null),y=async()=>{try{i(!0);const E={page:c.page,limit:c.limit,search:t,...l},$=await Dt.getAllTransactions(E),{transactions:I,pagination:q}=$.data.data;a(I||[]),d(A=>({...A,total:(q==null?void 0:q.total)||0,pages:(q==null?void 0:q.pages)||0}))}catch(E){console.error("İşlemler yüklenirken hata:",E),Q.error("İşlemler yüklenirken hata oluştu")}finally{i(!1)}},v=async E=>{if(confirm("Bu işlemi silmek istediğinizden emin misiniz?"))try{await Dt.deleteTransaction(E),Q.success("İşlem başarıyla silindi"),y()}catch($){console.error("İşlem silinirken hata:",$),Q.error("İşlem silinirken hata oluştu")}},b=()=>{p(null),f(!0)},S=E=>{p(E),f(!0)},N=()=>{y()},g=()=>{f(!1),p(null)},O=E=>{d($=>({...$,page:E}))},k=E=>{d($=>({...$,limit:E,page:1}))},D=(E,$)=>{o(I=>({...I,[E]:$})),d(I=>({...I,page:1}))},_=()=>{d(E=>({...E,page:1})),y()};x.useEffect(()=>{y()},[c.page,c.limit]);const z=E=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(E),T=E=>new Date(E).toLocaleDateString("tr-TR");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"İşlemler"}),e.jsx("p",{className:"text-gray-600",children:"Gelir, gider ve müşteri işlemlerinizi yönetin"})]}),e.jsxs("button",{className:"btn btn-primary btn-md",onClick:b,children:[e.jsx(Et,{className:"h-4 w-4 mr-2"}),"Yeni İşlem"]})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-content",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Tt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"İşlem ara...",className:"input pl-10",value:t,onChange:E=>s(E.target.value),onKeyPress:E=>E.key==="Enter"&&_()})]}),e.jsxs("select",{className:"input",value:l.type,onChange:E=>D("type",E.target.value),children:[e.jsx("option",{value:"",children:"Tüm Türler"}),e.jsx("option",{value:"INCOME",children:"Gelir"}),e.jsx("option",{value:"EXPENSE",children:"Gider"})]}),e.jsx("input",{type:"date",className:"input",value:l.startDate,onChange:E=>D("startDate",E.target.value),placeholder:"Başlangıç tarihi"}),e.jsx("input",{type:"date",className:"input",value:l.endDate,onChange:E=>D("endDate",E.target.value),placeholder:"Bitiş tarihi"})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsxs("button",{className:"btn btn-secondary btn-md",onClick:_,children:[e.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Ara"]})})]})}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"İşlem Listesi"}),e.jsx("p",{className:"card-description",children:"Tüm işlemlerinizin detaylı listesi"})]}),e.jsx("div",{className:"card-content",children:n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Henüz işlem bulunmuyor"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"İlk işleminizi ekleyerek başlayın"}),e.jsxs("button",{className:"btn btn-primary btn-md",children:[e.jsx(Et,{className:"h-4 w-4 mr-2"}),"İlk İşlemi Ekle"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{className:"table-header-cell",children:"Tarih"}),e.jsx("th",{className:"table-header-cell",children:"Açıklama"}),e.jsx("th",{className:"table-header-cell",children:"Kategori"}),e.jsx("th",{className:"table-header-cell",children:"Müşteri"}),e.jsx("th",{className:"table-header-cell",children:"Tutar"}),e.jsx("th",{className:"table-header-cell",children:"Tür"}),e.jsx("th",{className:"table-header-cell",children:"İşlemler"})]})}),e.jsx("tbody",{children:r.map(E=>{var $,I,q;return e.jsxs("tr",{className:"table-row",children:[e.jsx("td",{className:"table-cell",children:T(E.date)}),e.jsx("td",{className:"table-cell",children:E.description}),e.jsx("td",{className:"table-cell",children:e.jsx("span",{className:"badge",style:{backgroundColor:(($=E.category)==null?void 0:$.color)||"#6B7280"},children:((I=E.category)==null?void 0:I.name)||"-"})}),e.jsx("td",{className:"table-cell",children:((q=E.customer)==null?void 0:q.name)||"-"}),e.jsx("td",{className:"table-cell",children:e.jsx("span",{className:`font-medium ${E.type==="INCOME"?"text-success-600":E.type==="EXPENSE"?"text-danger-600":"text-gray-900"}`,children:z(E.amount)})}),e.jsx("td",{className:"table-cell",children:e.jsx("span",{className:`badge ${E.type==="INCOME"?"badge-success":E.type==="EXPENSE"?"badge-danger":"badge-primary"}`,children:E.type==="INCOME"?"Gelir":E.type==="EXPENSE"?"Gider":"Müşteri"})}),e.jsx("td",{className:"table-cell",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"btn btn-sm btn-secondary",children:e.jsx(Lt,{className:"h-3 w-3"})}),e.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>S(E),children:e.jsx(nn,{className:"h-3 w-3"})}),e.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>v(E.id),children:e.jsx(ms,{className:"h-3 w-3"})})]})})]},E.id)})})]})}),c.pages>1&&e.jsxs("div",{className:"flex justify-between items-center mt-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-700",children:[e.jsxs("span",{children:["Toplam ",c.total," işlem, ",c.pages," sayfa"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"Sayfa başına:"}),e.jsxs("select",{value:c.limit,onChange:E=>k(parseInt(E.target.value)),className:"border border-gray-300 rounded-md px-2 py-1 text-sm",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"btn btn-sm btn-secondary",disabled:c.page===1,onClick:()=>O(c.page-1),children:"Önceki"}),e.jsxs("span",{className:"px-3 py-2 text-sm",children:["Sayfa ",c.page," / ",c.pages]}),e.jsx("button",{className:"btn btn-sm btn-secondary",disabled:c.page===c.pages,onClick:()=>O(c.page+1),children:"Sonraki"})]})]})]})})]}),e.jsx(un,{isOpen:u,onClose:g,title:h?"İşlem Düzenle":"Yeni İşlem",size:"lg",children:e.jsx(ic,{transaction:h,onSuccess:N,onClose:g})})]})},Ts={get:async(t,s={})=>{const r=localStorage.getItem("token"),a={"Content-Type":"application/json",...s.headers};r&&(a.Authorization=`Bearer ${r}`);const n=await fetch(`/api${t}`,{method:"GET",headers:a,...s});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return n.json()},post:async(t,s,r={})=>{const a=localStorage.getItem("token"),n={"Content-Type":"application/json",...r.headers};a&&(n.Authorization=`Bearer ${a}`);const i=await fetch(`/api${t}`,{method:"POST",headers:n,body:JSON.stringify(s),...r});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return i.json()},put:async(t,s,r={})=>{const a=localStorage.getItem("token"),n={"Content-Type":"application/json",...r.headers};a&&(n.Authorization=`Bearer ${a}`);const i=await fetch(`/api${t}`,{method:"PUT",headers:n,body:JSON.stringify(s),...r});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return i.json()},delete:async(t,s={})=>{const r=localStorage.getItem("token"),a={"Content-Type":"application/json",...s.headers};r&&(a.Authorization=`Bearer ${r}`);const n=await fetch(`/api${t}`,{method:"DELETE",headers:a,...s});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return n.json()}},hn=(t,s,r={})=>Ni(t,()=>Ts.get(s),{retry:3,refetchOnWindowFocus:!1,...r}),oc=(t,s={})=>{const r=Ot();return ar(a=>Ts.post(t,a),{onSuccess:(a,n,i)=>{s.onSuccess&&s.onSuccess(a,n,i),s.showSuccessMessage!==!1&&Q.success(s.successMessage||"İşlem başarılı"),s.invalidateQueries&&r.invalidateQueries(s.invalidateQueries)},onError:(a,n,i)=>{s.onError&&s.onError(a,n,i),s.showErrorMessage!==!1&&Q.error(s.errorMessage||"Bir hata oluştu")},...s})},cc=(t,s={})=>{const r=Ot();return ar(a=>Ts.put(t,a),{onSuccess:(a,n,i)=>{s.onSuccess&&s.onSuccess(a,n,i),s.showSuccessMessage!==!1&&Q.success(s.successMessage||"Güncelleme başarılı"),s.invalidateQueries&&r.invalidateQueries(s.invalidateQueries)},onError:(a,n,i)=>{s.onError&&s.onError(a,n,i),s.showErrorMessage!==!1&&Q.error(s.errorMessage||"Güncelleme başarısız")},...s})},sa=(t,s={})=>{const r=Ot();return ar(()=>Ts.delete(t),{onSuccess:(a,n,i)=>{s.onSuccess&&s.onSuccess(a,n,i),s.showSuccessMessage!==!1&&Q.success(s.successMessage||"Silme başarılı"),s.invalidateQueries&&r.invalidateQueries(s.invalidateQueries)},onError:(a,n,i)=>{s.onError&&s.onError(a,n,i),s.showErrorMessage!==!1&&Q.error(s.errorMessage||"Silme başarısız")},...s})},dc=(t,s,r={},a={})=>{const[n,i]=x.useState({page:1,limit:25,sortBy:"createdAt",sortOrder:"desc"}),l=new URLSearchParams({...n,...r}).toString(),o=hn([...t,n,r],`${s}?${l}`,{keepPreviousData:!0,...a}),c=x.useCallback(f=>{i(h=>({...h,page:f}))},[]),d=x.useCallback((f,h)=>{i(p=>({...p,sortBy:f,sortOrder:h,page:1}))},[]),u=x.useCallback(f=>{i(h=>({...h,limit:f,page:1}))},[]);return{...o,pagination:n,handlePageChange:c,handleSortChange:d,handleLimitChange:u}},uc=({data:t=[],columns:s=[],pagination:r=null,onPageChange:a,onSortChange:n,onLimitChange:i,filters:l={},onFilterChange:o,loading:c=!1,emptyMessage:d="Veri bulunamadı",className:u=""})=>{const[f,h]=x.useState({key:null,direction:"asc"}),p=S=>{let N="asc";f.key===S&&f.direction==="asc"&&(N="desc"),h({key:S,direction:N}),n==null||n(S,N)},y=S=>f.key!==S?e.jsx(Xr,{className:"w-4 h-4 text-gray-400"}):f.direction==="asc"?e.jsx(Xr,{className:"w-4 h-4 text-blue-600"}):e.jsx(Yo,{className:"w-4 h-4 text-blue-600"}),v=(S,N)=>{o==null||o(S,N)},b=()=>{if(!r)return null;const{page:S,totalPages:N,total:g,limit:O}=r,k=(S-1)*O+1,D=Math.min(S*O,g);return e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-700",children:[e.jsxs("span",{children:[k,"-",D," / ",g," kayıt"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"Sayfa başına:"}),e.jsxs("select",{value:O,onChange:_=>i==null?void 0:i(parseInt(_.target.value)),className:"border border-gray-300 rounded-md px-2 py-1 text-sm",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>a==null?void 0:a(S-1),disabled:S<=1,className:"relative inline-flex items-center px-2 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-l-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Wo,{className:"w-4 h-4"})}),Array.from({length:Math.min(5,N)},(_,z)=>{const T=z+1;return e.jsx("button",{onClick:()=>a==null?void 0:a(T),className:`relative inline-flex items-center px-3 py-2 text-sm font-medium border ${S===T?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:T},T)}),e.jsx("button",{onClick:()=>a==null?void 0:a(S+1),disabled:S>=N,className:"relative inline-flex items-center px-2 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-r-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Jo,{className:"w-4 h-4"})})]})]})};return c?e.jsx("div",{className:`bg-white shadow rounded-lg ${u}`,children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"})}),Array.from({length:5},(S,N)=>e.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})},N))]})}):e.jsxs("div",{className:`bg-white shadow rounded-lg overflow-hidden ${u}`,children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxs("thead",{className:"bg-gray-50",children:[e.jsx("tr",{children:s.map(S=>e.jsx("th",{scope:"col",className:`px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${S.sortable?"cursor-pointer hover:bg-gray-100":""} ${S.width||""}`,onClick:()=>S.sortable&&p(S.key),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:S.label}),S.sortable&&y(S.key)]})},S.key))}),s.some(S=>S.filterable)&&e.jsx("tr",{children:s.map(S=>{var N;return e.jsx("th",{className:"px-4 py-2",children:S.filterable?S.filterType==="select"?e.jsxs("select",{value:l[S.key]||"",onChange:g=>v(S.key,g.target.value),className:"border-gray-300 rounded-md text-sm",children:[e.jsx("option",{value:"",children:"Hepsi"}),(N=S.filterOptions)==null?void 0:N.map(g=>e.jsx("option",{value:g.value,children:g.label},g.value))]}):e.jsx("input",{type:"text",value:l[S.key]||"",onChange:g=>v(S.key,g.target.value),className:"border-gray-300 rounded-md text-sm w-full"}):null},S.key)})})]}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:s.length,className:"px-4 py-8 text-center text-gray-500",children:d})}):t.map((S,N)=>e.jsx("tr",{className:"hover:bg-gray-50",children:s.map(g=>e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:g.render?g.render(S[g.key],S):S[g.key]},g.key))},S.id||N))})]})}),b()]})};var It=t=>t.type==="checkbox",Ge=t=>t instanceof Date,xe=t=>t==null;const mn=t=>typeof t=="object";var se=t=>!xe(t)&&!Array.isArray(t)&&mn(t)&&!Ge(t),hc=t=>se(t)&&t.target?It(t.target)?t.target.checked:t.target.value:t,mc=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,fc=(t,s)=>t.has(mc(s)),xc=t=>{const s=t.constructor&&t.constructor.prototype;return se(s)&&s.hasOwnProperty("isPrototypeOf")},hr=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ce(t){let s;const r=Array.isArray(t),a=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)s=new Date(t);else if(!(hr&&(t instanceof Blob||a))&&(r||se(t)))if(s=r?[]:{},!r&&!xc(t))s=t;else for(const n in t)t.hasOwnProperty(n)&&(s[n]=ce(t[n]));else return t;return s}var Ds=t=>/^\w*$/.test(t),ne=t=>t===void 0,mr=t=>Array.isArray(t)?t.filter(Boolean):[],fr=t=>mr(t.replace(/["|']|\]/g,"").split(/\.|\[/)),L=(t,s,r)=>{if(!s||!se(t))return r;const a=(Ds(s)?[s]:fr(s)).reduce((n,i)=>xe(n)?n:n[i],t);return ne(a)||a===t?ne(t[s])?r:t[s]:a},Te=t=>typeof t=="boolean",Z=(t,s,r)=>{let a=-1;const n=Ds(s)?[s]:fr(s),i=n.length,l=i-1;for(;++a<i;){const o=n[a];let c=r;if(a!==l){const d=t[o];c=se(d)||Array.isArray(d)?d:isNaN(+n[a+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const ra={BLUR:"blur",FOCUS_OUT:"focusout"},ke={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Me={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},pc=Y.createContext(null);pc.displayName="HookFormContext";var yc=(t,s,r,a=!0)=>{const n={defaultValues:s._defaultValues};for(const i in t)Object.defineProperty(n,i,{get:()=>{const l=i;return s._proxyFormState[l]!==ke.all&&(s._proxyFormState[l]=!a||ke.all),t[l]}});return n};const gc=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;var Re=t=>typeof t=="string",bc=(t,s,r,a,n)=>Re(t)?(a&&s.watch.add(t),L(r,t,n)):Array.isArray(t)?t.map(i=>(a&&s.watch.add(i),L(r,i))):(a&&(s.watchAll=!0),r),tr=t=>xe(t)||!mn(t);function Ue(t,s,r=new WeakSet){if(tr(t)||tr(s))return t===s;if(Ge(t)&&Ge(s))return t.getTime()===s.getTime();const a=Object.keys(t),n=Object.keys(s);if(a.length!==n.length)return!1;if(r.has(t)||r.has(s))return!0;r.add(t),r.add(s);for(const i of a){const l=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=s[i];if(Ge(l)&&Ge(o)||se(l)&&se(o)||Array.isArray(l)&&Array.isArray(o)?!Ue(l,o,r):l!==o)return!1}}return!0}var vc=(t,s,r,a,n)=>s?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[a]:n||!0}}:{},Nt=t=>Array.isArray(t)?t:[t],aa=()=>{let t=[];return{get observers(){return t},next:n=>{for(const i of t)i.next&&i.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(i=>i!==n)}}),unsubscribe:()=>{t=[]}}},ge=t=>se(t)&&!Object.keys(t).length,xr=t=>t.type==="file",Se=t=>typeof t=="function",fs=t=>{if(!hr)return!1;const s=t?t.ownerDocument:0;return t instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},fn=t=>t.type==="select-multiple",pr=t=>t.type==="radio",jc=t=>pr(t)||It(t),Us=t=>fs(t)&&t.isConnected;function Nc(t,s){const r=s.slice(0,-1).length;let a=0;for(;a<r;)t=ne(t)?a++:t[s[a++]];return t}function wc(t){for(const s in t)if(t.hasOwnProperty(s)&&!ne(t[s]))return!1;return!0}function ae(t,s){const r=Array.isArray(s)?s:Ds(s)?[s]:fr(s),a=r.length===1?t:Nc(t,r),n=r.length-1,i=r[n];return a&&delete a[i],n!==0&&(se(a)&&ge(a)||Array.isArray(a)&&wc(a))&&ae(t,r.slice(0,-1)),t}var xn=t=>{for(const s in t)if(Se(t[s]))return!0;return!1};function xs(t,s={}){const r=Array.isArray(t);if(se(t)||r)for(const a in t)Array.isArray(t[a])||se(t[a])&&!xn(t[a])?(s[a]=Array.isArray(t[a])?[]:{},xs(t[a],s[a])):xe(t[a])||(s[a]=!0);return s}function pn(t,s,r){const a=Array.isArray(t);if(se(t)||a)for(const n in t)Array.isArray(t[n])||se(t[n])&&!xn(t[n])?ne(s)||tr(r[n])?r[n]=Array.isArray(t[n])?xs(t[n],[]):{...xs(t[n])}:pn(t[n],xe(s)?{}:s[n],r[n]):r[n]=!Ue(t[n],s[n]);return r}var xt=(t,s)=>pn(t,s,xs(s));const na={value:!1,isValid:!1},ia={value:!0,isValid:!0};var yn=t=>{if(Array.isArray(t)){if(t.length>1){const s=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ne(t[0].attributes.value)?ne(t[0].value)||t[0].value===""?ia:{value:t[0].value,isValid:!0}:ia:na}return na},gn=(t,{valueAsNumber:s,valueAsDate:r,setValueAs:a})=>ne(t)?t:s?t===""?NaN:t&&+t:r&&Re(t)?new Date(t):a?a(t):t;const la={isValid:!1,value:null};var bn=t=>Array.isArray(t)?t.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,la):la;function oa(t){const s=t.ref;return xr(s)?s.files:pr(s)?bn(t.refs).value:fn(s)?[...s.selectedOptions].map(({value:r})=>r):It(s)?yn(t.refs).value:gn(ne(s.value)?t.ref.value:s.value,t)}var kc=(t,s,r,a)=>{const n={};for(const i of t){const l=L(s,i);l&&Z(n,i,l._f)}return{criteriaMode:r,names:[...t],fields:n,shouldUseNativeValidation:a}},ps=t=>t instanceof RegExp,pt=t=>ne(t)?t:ps(t)?t.source:se(t)?ps(t.value)?t.value.source:t.value:t,ca=t=>({isOnSubmit:!t||t===ke.onSubmit,isOnBlur:t===ke.onBlur,isOnChange:t===ke.onChange,isOnAll:t===ke.all,isOnTouch:t===ke.onTouched});const da="AsyncFunction";var Sc=t=>!!t&&!!t.validate&&!!(Se(t.validate)&&t.validate.constructor.name===da||se(t.validate)&&Object.values(t.validate).find(s=>s.constructor.name===da)),Cc=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),ua=(t,s,r)=>!r&&(s.watchAll||s.watch.has(t)||[...s.watch].some(a=>t.startsWith(a)&&/^\.\w+/.test(t.slice(a.length))));const wt=(t,s,r,a)=>{for(const n of r||Object.keys(t)){const i=L(t,n);if(i){const{_f:l,...o}=i;if(l){if(l.refs&&l.refs[0]&&s(l.refs[0],n)&&!a)return!0;if(l.ref&&s(l.ref,l.name)&&!a)return!0;if(wt(o,s))break}else if(se(o)&&wt(o,s))break}}};function ha(t,s,r){const a=L(t,r);if(a||Ds(r))return{error:a,name:r};const n=r.split(".");for(;n.length;){const i=n.join("."),l=L(s,i),o=L(t,i);if(l&&!Array.isArray(l)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};n.pop()}return{name:r}}var Ec=(t,s,r,a)=>{r(t);const{name:n,...i}=t;return ge(i)||Object.keys(i).length>=Object.keys(s).length||Object.keys(i).find(l=>s[l]===(!a||ke.all))},Tc=(t,s,r)=>!t||!s||t===s||Nt(t).some(a=>a&&(r?a===s:a.startsWith(s)||s.startsWith(a))),Dc=(t,s,r,a,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(s||t):(r?a.isOnBlur:n.isOnBlur)?!t:(r?a.isOnChange:n.isOnChange)?t:!0,Rc=(t,s)=>!mr(L(t,s)).length&&ae(t,s),Oc=(t,s,r)=>{const a=Nt(L(t,r));return Z(a,"root",s[r]),Z(t,r,a),t},ts=t=>Re(t);function ma(t,s,r="validate"){if(ts(t)||Array.isArray(t)&&t.every(ts)||Te(t)&&!t)return{type:r,message:ts(t)?t:"",ref:s}}var st=t=>se(t)&&!ps(t)?t:{value:t,message:""},fa=async(t,s,r,a,n,i)=>{const{ref:l,refs:o,required:c,maxLength:d,minLength:u,min:f,max:h,pattern:p,validate:y,name:v,valueAsNumber:b,mount:S}=t._f,N=L(r,v);if(!S||s.has(v))return{};const g=o?o[0]:l,O=I=>{n&&g.reportValidity&&(g.setCustomValidity(Te(I)?"":I||""),g.reportValidity())},k={},D=pr(l),_=It(l),z=D||_,T=(b||xr(l))&&ne(l.value)&&ne(N)||fs(l)&&l.value===""||N===""||Array.isArray(N)&&!N.length,E=vc.bind(null,v,a,k),$=(I,q,A,G=Me.maxLength,W=Me.minLength)=>{const te=I?q:A;k[v]={type:I?G:W,message:te,ref:l,...E(I?G:W,te)}};if(i?!Array.isArray(N)||!N.length:c&&(!z&&(T||xe(N))||Te(N)&&!N||_&&!yn(o).isValid||D&&!bn(o).isValid)){const{value:I,message:q}=ts(c)?{value:!!c,message:c}:st(c);if(I&&(k[v]={type:Me.required,message:q,ref:g,...E(Me.required,q)},!a))return O(q),k}if(!T&&(!xe(f)||!xe(h))){let I,q;const A=st(h),G=st(f);if(!xe(N)&&!isNaN(N)){const W=l.valueAsNumber||N&&+N;xe(A.value)||(I=W>A.value),xe(G.value)||(q=W<G.value)}else{const W=l.valueAsDate||new Date(N),te=Ne=>new Date(new Date().toDateString()+" "+Ne),he=l.type=="time",oe=l.type=="week";Re(A.value)&&N&&(I=he?te(N)>te(A.value):oe?N>A.value:W>new Date(A.value)),Re(G.value)&&N&&(q=he?te(N)<te(G.value):oe?N<G.value:W<new Date(G.value))}if((I||q)&&($(!!I,A.message,G.message,Me.max,Me.min),!a))return O(k[v].message),k}if((d||u)&&!T&&(Re(N)||i&&Array.isArray(N))){const I=st(d),q=st(u),A=!xe(I.value)&&N.length>+I.value,G=!xe(q.value)&&N.length<+q.value;if((A||G)&&($(A,I.message,q.message),!a))return O(k[v].message),k}if(p&&!T&&Re(N)){const{value:I,message:q}=st(p);if(ps(I)&&!N.match(I)&&(k[v]={type:Me.pattern,message:q,ref:l,...E(Me.pattern,q)},!a))return O(q),k}if(y){if(Se(y)){const I=await y(N,r),q=ma(I,g);if(q&&(k[v]={...q,...E(Me.validate,q.message)},!a))return O(q.message),k}else if(se(y)){let I={};for(const q in y){if(!ge(I)&&!a)break;const A=ma(await y[q](N,r),g,q);A&&(I={...A,...E(q,A.message)},O(A.message),a&&(k[v]=I))}if(!ge(I)&&(k[v]={ref:g,...I},!a))return k}}return O(!0),k};const Fc={mode:ke.onSubmit,reValidateMode:ke.onChange,shouldFocusError:!0};function Ac(t={}){let s={...Fc,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Se(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},a={},n=se(s.defaultValues)||se(s.values)?ce(s.defaultValues||s.values)||{}:{},i=s.shouldUnregister?{}:ce(n),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const h={array:aa(),state:aa()},p=s.criteriaMode===ke.all,y=m=>j=>{clearTimeout(d),d=setTimeout(m,j)},v=async m=>{if(!s.disabled&&(u.isValid||f.isValid||m)){const j=s.resolver?ge((await _()).errors):await T(a,!0);j!==r.isValid&&h.state.next({isValid:j})}},b=(m,j)=>{!s.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((m||Array.from(o.mount)).forEach(C=>{C&&(j?Z(r.validatingFields,C,j):ae(r.validatingFields,C))}),h.state.next({validatingFields:r.validatingFields,isValidating:!ge(r.validatingFields)}))},S=(m,j=[],C,P,M=!0,R=!0)=>{if(P&&C&&!s.disabled){if(l.action=!0,R&&Array.isArray(L(a,m))){const U=C(L(a,m),P.argA,P.argB);M&&Z(a,m,U)}if(R&&Array.isArray(L(r.errors,m))){const U=C(L(r.errors,m),P.argA,P.argB);M&&Z(r.errors,m,U),Rc(r.errors,m)}if((u.touchedFields||f.touchedFields)&&R&&Array.isArray(L(r.touchedFields,m))){const U=C(L(r.touchedFields,m),P.argA,P.argB);M&&Z(r.touchedFields,m,U)}(u.dirtyFields||f.dirtyFields)&&(r.dirtyFields=xt(n,i)),h.state.next({name:m,isDirty:$(m,j),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Z(i,m,j)},N=(m,j)=>{Z(r.errors,m,j),h.state.next({errors:r.errors})},g=m=>{r.errors=m,h.state.next({errors:r.errors,isValid:!1})},O=(m,j,C,P)=>{const M=L(a,m);if(M){const R=L(i,m,ne(C)?L(n,m):C);ne(R)||P&&P.defaultChecked||j?Z(i,m,j?R:oa(M._f)):A(m,R),l.mount&&v()}},k=(m,j,C,P,M)=>{let R=!1,U=!1;const J={name:m};if(!s.disabled){if(!C||P){(u.isDirty||f.isDirty)&&(U=r.isDirty,r.isDirty=J.isDirty=$(),R=U!==J.isDirty);const X=Ue(L(n,m),j);U=!!L(r.dirtyFields,m),X?ae(r.dirtyFields,m):Z(r.dirtyFields,m,!0),J.dirtyFields=r.dirtyFields,R=R||(u.dirtyFields||f.dirtyFields)&&U!==!X}if(C){const X=L(r.touchedFields,m);X||(Z(r.touchedFields,m,C),J.touchedFields=r.touchedFields,R=R||(u.touchedFields||f.touchedFields)&&X!==C)}R&&M&&h.state.next(J)}return R?J:{}},D=(m,j,C,P)=>{const M=L(r.errors,m),R=(u.isValid||f.isValid)&&Te(j)&&r.isValid!==j;if(s.delayError&&C?(c=y(()=>N(m,C)),c(s.delayError)):(clearTimeout(d),c=null,C?Z(r.errors,m,C):ae(r.errors,m)),(C?!Ue(M,C):M)||!ge(P)||R){const U={...P,...R&&Te(j)?{isValid:j}:{},errors:r.errors,name:m};r={...r,...U},h.state.next(U)}},_=async m=>{b(m,!0);const j=await s.resolver(i,s.context,kc(m||o.mount,a,s.criteriaMode,s.shouldUseNativeValidation));return b(m),j},z=async m=>{const{errors:j}=await _(m);if(m)for(const C of m){const P=L(j,C);P?Z(r.errors,C,P):ae(r.errors,C)}else r.errors=j;return j},T=async(m,j,C={valid:!0})=>{for(const P in m){const M=m[P];if(M){const{_f:R,...U}=M;if(R){const J=o.array.has(R.name),X=M._f&&Sc(M._f);X&&u.validatingFields&&b([P],!0);const we=await fa(M,o.disabled,i,p,s.shouldUseNativeValidation&&!j,J);if(X&&u.validatingFields&&b([P]),we[R.name]&&(C.valid=!1,j))break;!j&&(L(we,R.name)?J?Oc(r.errors,we,R.name):Z(r.errors,R.name,we[R.name]):ae(r.errors,R.name))}!ge(U)&&await T(U,j,C)}}return C.valid},E=()=>{for(const m of o.unMount){const j=L(a,m);j&&(j._f.refs?j._f.refs.every(C=>!Us(C)):!Us(j._f.ref))&&Xe(m)}o.unMount=new Set},$=(m,j)=>!s.disabled&&(m&&j&&Z(i,m,j),!Ue(Ne(),n)),I=(m,j,C)=>bc(m,o,{...l.mount?i:ne(j)?n:Re(m)?{[m]:j}:j},C,j),q=m=>mr(L(l.mount?i:n,m,s.shouldUnregister?L(n,m,[]):[])),A=(m,j,C={})=>{const P=L(a,m);let M=j;if(P){const R=P._f;R&&(!R.disabled&&Z(i,m,gn(j,R)),M=fs(R.ref)&&xe(j)?"":j,fn(R.ref)?[...R.ref.options].forEach(U=>U.selected=M.includes(U.value)):R.refs?It(R.ref)?R.refs.forEach(U=>{(!U.defaultChecked||!U.disabled)&&(Array.isArray(M)?U.checked=!!M.find(J=>J===U.value):U.checked=M===U.value||!!M)}):R.refs.forEach(U=>U.checked=U.value===M):xr(R.ref)?R.ref.value="":(R.ref.value=M,R.ref.type||h.state.next({name:m,values:ce(i)})))}(C.shouldDirty||C.shouldTouch)&&k(m,M,C.shouldTouch,C.shouldDirty,!0),C.shouldValidate&&oe(m)},G=(m,j,C)=>{for(const P in j){if(!j.hasOwnProperty(P))return;const M=j[P],R=m+"."+P,U=L(a,R);(o.array.has(m)||se(M)||U&&!U._f)&&!Ge(M)?G(R,M,C):A(R,M,C)}},W=(m,j,C={})=>{const P=L(a,m),M=o.array.has(m),R=ce(j);Z(i,m,R),M?(h.array.next({name:m,values:ce(i)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&C.shouldDirty&&h.state.next({name:m,dirtyFields:xt(n,i),isDirty:$(m,R)})):P&&!P._f&&!xe(R)?G(m,R,C):A(m,R,C),ua(m,o)&&h.state.next({...r,name:m}),h.state.next({name:l.mount?m:void 0,values:ce(i)})},te=async m=>{l.mount=!0;const j=m.target;let C=j.name,P=!0;const M=L(a,C),R=X=>{P=Number.isNaN(X)||Ge(X)&&isNaN(X.getTime())||Ue(X,L(i,C,X))},U=ca(s.mode),J=ca(s.reValidateMode);if(M){let X,we;const ht=j.type?oa(M._f):hc(m),Oe=m.type===ra.BLUR||m.type===ra.FOCUS_OUT,br=!Cc(M._f)&&!s.resolver&&!L(r.errors,C)&&!M._f.deps||Dc(Oe,L(r.touchedFields,C),r.isSubmitted,J,U),$t=ua(C,o,Oe);Z(i,C,ht),Oe?(M._f.onBlur&&M._f.onBlur(m),c&&c(0)):M._f.onChange&&M._f.onChange(m);const Vt=k(C,ht,Oe),vr=!ge(Vt)||$t;if(!Oe&&h.state.next({name:C,type:m.type,values:ce(i)}),br)return(u.isValid||f.isValid)&&(s.mode==="onBlur"?Oe&&v():Oe||v()),vr&&h.state.next({name:C,...$t?{}:Vt});if(!Oe&&$t&&h.state.next({...r}),s.resolver){const{errors:Fe}=await _([C]);if(R(ht),P){const et=ha(r.errors,a,C),mt=ha(Fe,a,et.name||C);X=mt.error,C=mt.name,we=ge(Fe)}}else b([C],!0),X=(await fa(M,o.disabled,i,p,s.shouldUseNativeValidation))[C],b([C]),R(ht),P&&(X?we=!1:(u.isValid||f.isValid)&&(we=await T(a,!0)));P&&(M._f.deps&&oe(M._f.deps),D(C,we,X,Vt))}},he=(m,j)=>{if(L(r.errors,j)&&m.focus)return m.focus(),1},oe=async(m,j={})=>{let C,P;const M=Nt(m);if(s.resolver){const R=await z(ne(m)?m:M);C=ge(R),P=m?!M.some(U=>L(R,U)):C}else m?(P=(await Promise.all(M.map(async R=>{const U=L(a,R);return await T(U&&U._f?{[R]:U}:U)}))).every(Boolean),!(!P&&!r.isValid)&&v()):P=C=await T(a);return h.state.next({...!Re(m)||(u.isValid||f.isValid)&&C!==r.isValid?{}:{name:m},...s.resolver||!m?{isValid:C}:{},errors:r.errors}),j.shouldFocus&&!P&&wt(a,he,m?M:o.mount),P},Ne=m=>{const j={...l.mount?i:n};return ne(m)?j:Re(m)?L(j,m):m.map(C=>L(j,C))},_e=(m,j)=>({invalid:!!L((j||r).errors,m),isDirty:!!L((j||r).dirtyFields,m),error:L((j||r).errors,m),isValidating:!!L(r.validatingFields,m),isTouched:!!L((j||r).touchedFields,m)}),qe=m=>{m&&Nt(m).forEach(j=>ae(r.errors,j)),h.state.next({errors:m?r.errors:{}})},Ut=(m,j,C)=>{const P=(L(a,m,{_f:{}})._f||{}).ref,M=L(r.errors,m)||{},{ref:R,message:U,type:J,...X}=M;Z(r.errors,m,{...X,...j,ref:P}),h.state.next({name:m,errors:r.errors,isValid:!1}),C&&C.shouldFocus&&P&&P.focus&&P.focus()},ct=(m,j)=>Se(m)?h.state.subscribe({next:C=>"values"in C&&m(I(void 0,j),C)}):I(m,j,!0),dt=m=>h.state.subscribe({next:j=>{Tc(m.name,j.name,m.exact)&&Ec(j,m.formState||u,gr,m.reRenderRoot)&&m.callback({values:{...i},...r,...j,defaultValues:n})}}).unsubscribe,Bt=m=>(l.mount=!0,f={...f,...m.formState},dt({...m,formState:f})),Xe=(m,j={})=>{for(const C of m?Nt(m):o.mount)o.mount.delete(C),o.array.delete(C),j.keepValue||(ae(a,C),ae(i,C)),!j.keepError&&ae(r.errors,C),!j.keepDirty&&ae(r.dirtyFields,C),!j.keepTouched&&ae(r.touchedFields,C),!j.keepIsValidating&&ae(r.validatingFields,C),!s.shouldUnregister&&!j.keepDefaultValue&&ae(n,C);h.state.next({values:ce(i)}),h.state.next({...r,...j.keepDirty?{isDirty:$()}:{}}),!j.keepIsValid&&v()},ut=({disabled:m,name:j})=>{(Te(m)&&l.mount||m||o.disabled.has(j))&&(m?o.disabled.add(j):o.disabled.delete(j))},Ze=(m,j={})=>{let C=L(a,m);const P=Te(j.disabled)||Te(s.disabled);return Z(a,m,{...C||{},_f:{...C&&C._f?C._f:{ref:{name:m}},name:m,mount:!0,...j}}),o.mount.add(m),C?ut({disabled:Te(j.disabled)?j.disabled:s.disabled,name:m}):O(m,!0,j.value),{...P?{disabled:j.disabled||s.disabled}:{},...s.progressive?{required:!!j.required,min:pt(j.min),max:pt(j.max),minLength:pt(j.minLength),maxLength:pt(j.maxLength),pattern:pt(j.pattern)}:{},name:m,onChange:te,onBlur:te,ref:M=>{if(M){Ze(m,j),C=L(a,m);const R=ne(M.value)&&M.querySelectorAll&&M.querySelectorAll("input,select,textarea")[0]||M,U=jc(R),J=C._f.refs||[];if(U?J.find(X=>X===R):R===C._f.ref)return;Z(a,m,{_f:{...C._f,...U?{refs:[...J.filter(Us),R,...Array.isArray(L(n,m))?[{}]:[]],ref:{type:R.type,name:m}}:{ref:R}}}),O(m,!1,void 0,R)}else C=L(a,m,{}),C._f&&(C._f.mount=!1),(s.shouldUnregister||j.shouldUnregister)&&!(fc(o.array,m)&&l.action)&&o.unMount.add(m)}}},de=()=>s.shouldFocusError&&wt(a,he,o.mount),qt=m=>{Te(m)&&(h.state.next({disabled:m}),wt(a,(j,C)=>{const P=L(a,C);P&&(j.disabled=P._f.disabled||m,Array.isArray(P._f.refs)&&P._f.refs.forEach(M=>{M.disabled=P._f.disabled||m}))},0,!1))},$e=(m,j)=>async C=>{let P;C&&(C.preventDefault&&C.preventDefault(),C.persist&&C.persist());let M=ce(i);if(h.state.next({isSubmitting:!0}),s.resolver){const{errors:R,values:U}=await _();r.errors=R,M=ce(U)}else await T(a);if(o.disabled.size)for(const R of o.disabled)ae(M,R);if(ae(r.errors,"root"),ge(r.errors)){h.state.next({errors:{}});try{await m(M,C)}catch(R){P=R}}else j&&await j({...r.errors},C),de(),setTimeout(de);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ge(r.errors)&&!P,submitCount:r.submitCount+1,errors:r.errors}),P)throw P},Rs=(m,j={})=>{L(a,m)&&(ne(j.defaultValue)?W(m,ce(L(n,m))):(W(m,j.defaultValue),Z(n,m,ce(j.defaultValue))),j.keepTouched||ae(r.touchedFields,m),j.keepDirty||(ae(r.dirtyFields,m),r.isDirty=j.defaultValue?$(m,ce(L(n,m))):$()),j.keepError||(ae(r.errors,m),u.isValid&&v()),h.state.next({...r}))},Os=(m,j={})=>{const C=m?ce(m):n,P=ce(C),M=ge(m),R=M?n:P;if(j.keepDefaultValues||(n=C),!j.keepValues){if(j.keepDirtyValues){const U=new Set([...o.mount,...Object.keys(xt(n,i))]);for(const J of Array.from(U))L(r.dirtyFields,J)?Z(R,J,L(i,J)):W(J,L(R,J))}else{if(hr&&ne(m))for(const U of o.mount){const J=L(a,U);if(J&&J._f){const X=Array.isArray(J._f.refs)?J._f.refs[0]:J._f.ref;if(fs(X)){const we=X.closest("form");if(we){we.reset();break}}}}if(j.keepFieldsRef)for(const U of o.mount)W(U,L(R,U));else a={}}i=s.shouldUnregister?j.keepDefaultValues?ce(n):{}:ce(R),h.array.next({values:{...R}}),h.state.next({values:{...R}})}o={mount:j.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!u.isValid||!!j.keepIsValid||!!j.keepDirtyValues,l.watch=!!s.shouldUnregister,h.state.next({submitCount:j.keepSubmitCount?r.submitCount:0,isDirty:M?!1:j.keepDirty?r.isDirty:!!(j.keepDefaultValues&&!Ue(m,n)),isSubmitted:j.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:M?{}:j.keepDirtyValues?j.keepDefaultValues&&i?xt(n,i):r.dirtyFields:j.keepDefaultValues&&m?xt(n,m):j.keepDirty?r.dirtyFields:{},touchedFields:j.keepTouched?r.touchedFields:{},errors:j.keepErrors?r.errors:{},isSubmitSuccessful:j.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Fs=(m,j)=>Os(Se(m)?m(i):m,j),yr=(m,j={})=>{const C=L(a,m),P=C&&C._f;if(P){const M=P.refs?P.refs[0]:P.ref;M.focus&&(M.focus(),j.shouldSelect&&Se(M.select)&&M.select())}},gr=m=>{r={...r,...m}},As={control:{register:Ze,unregister:Xe,getFieldState:_e,handleSubmit:$e,setError:Ut,_subscribe:dt,_runSchema:_,_focusError:de,_getWatch:I,_getDirty:$,_setValid:v,_setFieldArray:S,_setDisabledField:ut,_setErrors:g,_getFieldArray:q,_reset:Os,_resetDefaultValues:()=>Se(s.defaultValues)&&s.defaultValues().then(m=>{Fs(m,s.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:qt,_subjects:h,_proxyFormState:u,get _fields(){return a},get _formValues(){return i},get _state(){return l},set _state(m){l=m},get _defaultValues(){return n},get _names(){return o},set _names(m){o=m},get _formState(){return r},get _options(){return s},set _options(m){s={...s,...m}}},subscribe:Bt,trigger:oe,register:Ze,handleSubmit:$e,watch:ct,setValue:W,getValues:Ne,reset:Fs,resetField:Rs,clearErrors:qe,unregister:Xe,setError:Ut,setFocus:yr,getFieldState:_e};return{...As,formControl:As}}function Mc(t={}){const s=Y.useRef(void 0),r=Y.useRef(void 0),[a,n]=Y.useState({isDirty:!1,isValidating:!1,isLoading:Se(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Se(t.defaultValues)?void 0:t.defaultValues});if(!s.current)if(t.formControl)s.current={...t.formControl,formState:a},t.defaultValues&&!Se(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:l,...o}=Ac(t);s.current={...o,formState:a}}const i=s.current.control;return i._options=t,gc(()=>{const l=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(o=>({...o,isReady:!0})),i._formState.isReady=!0,l},[i]),Y.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Y.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Y.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Y.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Y.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==a.isDirty&&i._subjects.state.next({isDirty:l})}},[i,a.isDirty]),Y.useEffect(()=>{t.values&&!Ue(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=t.values,n(l=>({...l}))):i._resetDefaultValues()},[i,t.values]),Y.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),s.current.formState=yc(a,i),s.current}const Pc=({customer:t,onSuccess:s,onCancel:r})=>{const{register:a,handleSubmit:n,formState:{errors:i},reset:l}=Mc({defaultValues:t||{name:"",phone:"",address:"",type:"INDIVIDUAL",accountType:"",dueDays:30,tag1:"",tag2:"",isActive:!0}}),o=oc("/customers",{invalidateQueries:["customers"],successMessage:"Müşteri başarıyla oluşturuldu",errorMessage:"Müşteri oluşturulurken hata oluştu",onSuccess:()=>{s(),l()}}),c=cc(`/customers/${t==null?void 0:t.id}`,{invalidateQueries:["customers"],successMessage:"Müşteri başarıyla güncellendi",errorMessage:"Müşteri güncellenirken hata oluştu",onSuccess:()=>{s()}}),d=f=>{t?c.mutate(f):o.mutate(f)},u=o.isLoading||c.isLoading;return e.jsxs("form",{onSubmit:n(d),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Müşteri Adı *"}),e.jsx("input",{type:"text",...a("name",{required:"Müşteri adı zorunludur"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Müşteri adını giriniz"}),i.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Telefon"}),e.jsx("input",{type:"tel",...a("phone"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Telefon numarası"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Müşteri Türü"}),e.jsxs("select",{...a("type"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[e.jsx("option",{value:"INDIVIDUAL",children:"Bireysel"}),e.jsx("option",{value:"CORPORATE",children:"Kurumsal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hesap Türü"}),e.jsxs("select",{...a("accountType"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"Seçiniz"}),e.jsx("option",{value:"CASH",children:"Nakit"}),e.jsx("option",{value:"CREDIT",children:"Kredi"}),e.jsx("option",{value:"FACTORING",children:"Faktoring"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vade Günü"}),e.jsx("input",{type:"number",...a("dueDays",{min:0,max:365}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Durum"}),e.jsxs("select",{...a("isActive"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[e.jsx("option",{value:!0,children:"Aktif"}),e.jsx("option",{value:!1,children:"Pasif"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Adres"}),e.jsx("textarea",{...a("address"),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Müşteri adresi"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Etiket 1"}),e.jsx("input",{type:"text",...a("tag1"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Etiket 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Etiket 2"}),e.jsx("input",{type:"text",...a("tag2"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Etiket 2"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"İptal"}),e.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Kaydediliyor...":t?"Güncelle":"Oluştur"})]})]})},at=t=>t==null?"-":new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),_c=()=>{var $,I,q;const[t,s]=x.useState(!1),[r,a]=x.useState(null),[n,i]=x.useState(""),[l,o]=x.useState({address:"",accountType:"",tag1:"",tag2:"",isActive:"",type:"",hasDebt:""}),[c,d]=x.useState(!1),{data:u,isLoading:f,handlePageChange:h,handleSortChange:p,handleLimitChange:y}=dc(["customers"],"/customers",{search:n,...l},{enabled:!0}),v=new URLSearchParams(l).toString(),{data:b}=hn(["customer-stats",l],`/customers/stats?${v}`,{enabled:!0}),S=sa("",{invalidateQueries:["customers","customer-stats"],successMessage:"Müşteri başarıyla silindi",errorMessage:"Müşteri silinirken hata oluştu"}),N=sa("/customers",{invalidateQueries:["customers","customer-stats"],successMessage:"Tüm müşteriler başarıyla silindi",errorMessage:"Tüm müşteriler silinirken hata oluştu"}),g=()=>{const A=E.total||0;if(A===0&&!window.confirm("Müşteri sayısı 0 görünüyor. Yine de tüm müşterileri silme işlemini başlatmak istiyor musunuz?"))return;const G=`DİKKAT! Bu işlem geri alınamaz!

${A} müşteriyi silmek istediğinizden emin misiniz?

Bu işlem şunları silecek:
- Tüm müşteri kayıtları
- Müşteri bakiyeleri
- İlişkili tüm veriler

Devam etmek için "TÜMÜNÜ SİL" yazın:`;prompt(G)==="TÜMÜNÜ SİL"?N.mutate():alert("İşlem iptal edildi.")},O=[{key:"name",label:"Müşteri Adı",sortable:!0,render:(A,G)=>e.jsx(kt,{to:`/customers/${G.id}`,className:"text-blue-600 hover:text-blue-800 font-medium",children:A})},{key:"phone",label:"Telefon",render:A=>A||"-"},{key:"type",label:"Tür",render:A=>A==="INDIVIDUAL"?"Bireysel":"Kurumsal"},{key:"address",label:"Adres",sortable:!0,render:A=>A||"-",filterable:!0,filterType:"text"},{key:"accountType",label:"Hesap Tipi",sortable:!0,render:A=>A||"-",filterable:!0,filterType:"text"},{key:"tag1",label:"Etiket 1",sortable:!0,render:A=>A||"-",filterable:!0,filterType:"text"},{key:"tag2",label:"Etiket 2",sortable:!0,render:A=>A||"-",filterable:!0,filterType:"text"},{key:"isActive",label:"Aktif",sortable:!0,render:A=>A?"Evet":"Hayır",filterable:!0,filterType:"select",filterOptions:[{value:"true",label:"Evet"},{value:"false",label:"Hayır"}]},{key:"balance",label:"Bakiye",sortable:!0,render:A=>A?e.jsx("span",{className:A.netBalance>=0?"text-green-600":"text-red-600",children:at(A.netBalance)}):"-"},{key:"dueDays",label:"Vade Günü",render:A=>A?`${A} gün`:"-"},{key:"actions",label:"İşlemler",render:(A,G)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>k(G),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Düzenle"}),e.jsx("button",{onClick:()=>D(G.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Sil"})]})}],k=A=>{a(A),s(!0)},D=A=>{window.confirm("Bu müşteriyi silmek istediğinizden emin misiniz?")&&S.mutate(`/customers/${A}`)},_=(A,G)=>{o(W=>({...W,[A]:G}))},z=()=>{s(!1),a(null)},T=()=>{a(null),s(!0)},E=(($=b==null?void 0:b.data)==null?void 0:$.data)||{total:0,active:0,debt:0,avgBalance:0};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Müşteriler"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Müşteri bilgilerini yönetin ve takip edin"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-3 items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Tt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Müşteri ara...",value:n,onChange:A=>i(A.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>d(!c),className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-gray-700 hover:bg-gray-50",children:e.jsx(cr,{className:"w-4 h-4"})}),c&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-md shadow-lg p-4 z-10",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Müşteri Türü"}),e.jsxs("select",{value:l.type,onChange:A=>_("type",A.target.value),className:"mt-1 block w-full rounded-md border-gray-300",children:[e.jsx("option",{value:"",children:"Tümü"}),e.jsx("option",{value:"INDIVIDUAL",children:"Bireysel"}),e.jsx("option",{value:"COMPANY",children:"Kurumsal"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Aktiflik"}),e.jsxs("select",{value:l.isActive,onChange:A=>_("isActive",A.target.value),className:"mt-1 block w-full rounded-md border-gray-300",children:[e.jsx("option",{value:"",children:"Tümü"}),e.jsx("option",{value:"true",children:"Aktif"}),e.jsx("option",{value:"false",children:"Pasif"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Borç Durumu"}),e.jsxs("select",{value:l.hasDebt,onChange:A=>_("hasDebt",A.target.value),className:"mt-1 block w-full rounded-md border-gray-300",children:[e.jsx("option",{value:"",children:"Tümü"}),e.jsx("option",{value:"true",children:"Borçlu"}),e.jsx("option",{value:"false",children:"Borcu Yok"})]})]})]})]}),e.jsxs("button",{onClick:T,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Yeni Müşteri"]}),e.jsx("button",{onClick:g,disabled:N.isLoading,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed",title:`Müşteri sayısı: ${E.total}, Loading: ${N.isLoading}`,children:N.isLoading?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Siliniyor..."]}):e.jsxs(e.Fragment,{children:["🗑️ Tümünü Sil (",E.total,")"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Toplam Müşteri"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:E.total})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Aktif Müşteri"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:E.active})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Borçlu Müşteri"}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:E.debt})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Ortalama Bakiye"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:at(E.avgBalance)})]})]}),e.jsx(uc,{data:((I=u==null?void 0:u.data)==null?void 0:I.data)||[],columns:O,pagination:(q=u==null?void 0:u.data)==null?void 0:q.pagination,onPageChange:h,onSortChange:p,onLimitChange:y,filters:l,onFilterChange:_,loading:f,emptyMessage:"Müşteri bulunamadı"}),e.jsx(un,{isOpen:t,onClose:z,title:r?"Müşteri Düzenle":"Yeni Müşteri",size:"lg",children:e.jsx(Pc,{customer:r,onSuccess:z,onCancel:z})})]})},Lc=({customerId:t,onSummaryLoaded:s})=>{const[r,a]=x.useState([]),[n,i]=x.useState(null),[l,o]=x.useState(!1);x.useEffect(()=>{(async()=>{if(t)try{o(!0);const y=(await ye.getCustomerUnpaidInvoicesSummary(t)).data.data,b=(await ye.getCustomerPaidInvoicesSummary(t)).data.data,S=[...y.invoices.map(g=>({...g,status:"unpaid",isOverdue:g.isOverdue||!1,overdueDays:g.overdueDays||0})),...b.payments.map(g=>({...g,status:"paid",lastPaymentDate:g.lastPaymentDate,paymentMethod:g.paymentMethod}))];S.sort((g,O)=>new Date(O.date)-new Date(g.date)),a(S);const N={totalInvoices:S.length,unpaidInvoices:y.invoices.length,paidInvoices:b.payments.length,totalUnpaidAmount:y.summary.totalAmount,totalPaidAmount:b.summary.totalAmount,overdueInvoices:y.summary.overdueInvoices,overdueAmount:y.summary.overdueAmount,lastPaymentDate:b.summary.lastPaymentDate};i(N),s&&s(N)}catch(p){console.error("Faturalar yüklenirken hata:",p)}finally{o(!1)}})()},[t,s]);const c=h=>new Date(h).toLocaleDateString("tr-TR"),d=(h,p)=>{const y=new Date(h).getTime(),v=p instanceof Date?p.getTime():new Date(p).getTime(),b=Math.max(0,v-y);return Math.floor(b/(1e3*60*60*24))},u=h=>{const p=h.status==="paid"&&h.lastPaymentDate?h.lastPaymentDate:new Date;return d(h.date,p)},f=h=>{if(h.documentType){const p=h.documentType.toLowerCase();if(p.includes("iade")||p.includes("return")||p.includes("red"))return e.jsx("span",{className:"badge badge-info",children:"İade"});if(p.includes("devir")&&p.includes("fiş"))return h.status==="paid"?e.jsx("span",{className:"badge badge-success",children:"Devir Fişi (Ödenmiş)"}):h.isOverdue?e.jsxs("span",{className:"badge badge-error",children:["Devir Fişi (",h.overdueDays," gün gecikmiş)"]}):e.jsx("span",{className:"badge badge-warning",children:"Devir Fişi (Ödenmemiş)"});if(p.includes("satış")||p.includes("sales"))return h.status==="paid"?e.jsx("span",{className:"badge badge-success",children:"Satış Faturası (Ödenmiş)"}):h.isOverdue?e.jsxs("span",{className:"badge badge-error",children:["Satış Faturası (",h.overdueDays," gün gecikmiş)"]}):e.jsx("span",{className:"badge badge-warning",children:"Satış Faturası (Ödenmemiş)"});if(p.includes("fatura")||p.includes("invoice"))return h.status==="paid"?e.jsx("span",{className:"badge badge-success",children:"Fatura (Ödenmiş)"}):h.isOverdue?e.jsxs("span",{className:"badge badge-error",children:["Fatura (",h.overdueDays," gün gecikmiş)"]}):e.jsx("span",{className:"badge badge-warning",children:"Fatura (Ödenmemiş)"})}return h.status==="paid"?e.jsx("span",{className:"badge badge-success",children:"Ödenmiş"}):h.isOverdue?e.jsxs("span",{className:"badge badge-error",children:[h.overdueDays," gün gecikmiş"]}):e.jsx("span",{className:"badge badge-warning",children:"Ödenmemiş"})};return e.jsxs("div",{className:"space-y-6",children:[n&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title flex items-center",children:[e.jsx(De,{className:"h-5 w-5 mr-2"}),"Fatura Özeti"]})}),e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(De,{className:"h-6 w-6 text-blue-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Fatura"}),e.jsx("p",{className:"text-lg font-semibold",children:n.totalInvoices})]})]})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(us,{className:"h-6 w-6 text-green-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Ödenmiş"}),e.jsx("p",{className:"text-lg font-semibold",children:n.paidInvoices})]})]})}),e.jsx("div",{className:"bg-red-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ct,{className:"h-6 w-6 text-red-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Ödenmemiş"}),e.jsx("p",{className:"text-lg font-semibold",children:n.unpaidInvoices})]})]})}),e.jsx("div",{className:"bg-orange-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(je,{className:"h-6 w-6 text-orange-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Borç"}),e.jsx("p",{className:"text-lg font-semibold",children:at(n.totalUnpaidAmount)})]})]})})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title flex items-center",children:[e.jsx(De,{className:"h-5 w-5 mr-2"}),"Fatura Listesi"]})}),e.jsx("div",{className:"card-content",children:l?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):r.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Fatura Tarihi"}),e.jsx("th",{children:"Vade Tarihi"}),e.jsx("th",{children:"Geçen Gün"}),e.jsx("th",{children:"Tutar"}),e.jsx("th",{children:"Durum"}),e.jsx("th",{children:"Son Ödeme"}),e.jsx("th",{children:"Ödeme Yöntemi"})]})}),e.jsx("tbody",{children:r.map(h=>e.jsxs("tr",{children:[e.jsx("td",{children:c(h.date)}),e.jsx("td",{children:h.dueDate?c(h.dueDate):"-"}),e.jsxs("td",{children:[u(h)," gün"]}),e.jsx("td",{className:"font-medium",children:at(h.amount)}),e.jsx("td",{children:f(h)}),e.jsx("td",{children:h.status==="paid"&&h.lastPaymentDate?c(h.lastPaymentDate):"-"}),e.jsx("td",{children:h.status==="paid"&&h.paymentMethod?e.jsx("span",{className:"badge badge-success",children:h.paymentMethod}):"-"})]},h.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(De,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Bu müşterinin faturası bulunmuyor"})]})})]})]})},Ic=({customerId:t})=>{const[s,r]=x.useState([]),[a,n]=x.useState(!1);x.useEffect(()=>{(async()=>{if(t)try{n(!0);const o=await ye.getCustomerPayments(t);r(o.data.data.payments)}catch(o){console.error("Ödemeler yüklenirken hata:",o)}finally{n(!1)}})()},[t]);const i=l=>new Date(l).toLocaleDateString("tr-TR");return e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title flex items-center",children:[e.jsx(je,{className:"h-5 w-5 mr-2"}),"Ödeme Listesi"]})}),e.jsx("div",{className:"card-content",children:a?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):s.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Ödeme Tarihi"}),e.jsx("th",{children:"Tutar"}),e.jsx("th",{children:"Ödeme Yöntemi"}),e.jsx("th",{children:"Açıklama"})]})}),e.jsx("tbody",{children:s.map(l=>e.jsxs("tr",{children:[e.jsx("td",{children:i(l.date)}),e.jsx("td",{className:"font-medium text-green-600",children:at(l.amount)}),e.jsx("td",{children:e.jsx("span",{className:"badge badge-success",children:l.documentType})}),e.jsx("td",{children:l.description||"-"})]},l.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(je,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Bu müşterinin ödemesi bulunmuyor"})]})})]})},Uc=()=>{const{id:t}=xa(),s=ys(),[r,a]=x.useState(null),[n,i]=x.useState(!0),[l,o]=x.useState(null),[c,d]=x.useState(null),[u,f]=x.useState("invoices");x.useEffect(()=>{(async()=>{try{i(!0);const y=await ur.getCustomer(t);a(y.data.data)}catch{o("Müşteri bulunamadı veya yüklenirken hata oluştu.")}finally{i(!1)}})()},[t]);const h=p=>new Date(p).toLocaleDateString("tr-TR");return n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):l?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx(Ct,{className:"mx-auto h-12 w-12"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Hata"}),e.jsx("p",{className:"text-gray-500",children:l})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>s("/customers"),className:"btn btn-outline btn-sm mr-4",children:e.jsx(Go,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.name}),e.jsx("p",{className:"text-gray-600",children:"Müşteri Detayları"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Müşteri Bilgileri"})}),e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Müşteri Kodu"}),e.jsx("p",{className:"text-lg",children:r.code})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Telefon"}),e.jsx("p",{className:"text-lg",children:r.phone||"Belirtilmemiş"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Adres"}),e.jsx("p",{className:"text-lg",children:r.address||"Belirtilmemiş"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Vade Günü"}),e.jsx("p",{className:"text-lg",children:r.dueDays?`${r.dueDays} gün`:"Belirtilmemiş"})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"İstatistikler"})}),e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Kayıt Tarihi"}),e.jsx("span",{className:"font-medium",children:h(r.createdAt)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Son Güncelleme"}),e.jsx("span",{className:"font-medium",children:h(r.updatedAt)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Durum"}),e.jsx("span",{className:`badge ${r.isActive?"badge-success":"badge-error"}`,children:r.isActive?"Aktif":"Pasif"})]}),c&&e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Ödenmemiş Fatura Toplamı"}),e.jsx("span",{className:"text-lg font-bold text-red-600",children:at(c.totalUnpaidAmount)})]})]})})]})]}),e.jsxs("div",{role:"tablist",className:"tabs tabs-boxed",children:[e.jsx("a",{role:"tab",className:`tab ${u==="invoices"?"tab-active":""}`,onClick:()=>f("invoices"),children:"Faturalar"}),e.jsx("a",{role:"tab",className:`tab ${u==="payments"?"tab-active":""}`,onClick:()=>f("payments"),children:"Ödemeler"})]}),u==="invoices"&&e.jsx(Lc,{customerId:t,onSummaryLoaded:d}),u==="payments"&&e.jsx(Ic,{customerId:t})]})},Bc=()=>{const[t,s]=x.useState(""),[r,a]=x.useState([]),[n,i]=x.useState(!0),[l,o]=x.useState({type:""}),c=async()=>{try{i(!0);const h={search:t,...l},y=(await er.getAllCategories(h)).data.data;a(y||[])}catch(h){console.error("Kategoriler yüklenirken hata:",h),Q.error("Kategoriler yüklenirken hata oluştu")}finally{i(!1)}},d=async h=>{if(confirm("Bu kategoriyi silmek istediğinizden emin misiniz?"))try{await er.deleteCategory(h),Q.success("Kategori başarıyla silindi"),c()}catch(p){console.error("Kategori silinirken hata:",p),Q.error("Kategori silinirken hata oluştu")}},u=(h,p)=>{o(y=>({...y,[h]:p}))},f=()=>{c()};return x.useEffect(()=>{c()},[]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Kategoriler"}),e.jsx("p",{className:"text-gray-600",children:"Gelir ve gider kategorilerinizi yönetin"})]}),e.jsxs("button",{className:"btn btn-primary btn-md",children:[e.jsx(Et,{className:"h-4 w-4 mr-2"}),"Yeni Kategori"]})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-content",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Tt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Kategori ara...",className:"input pl-10",value:t,onChange:h=>s(h.target.value),onKeyPress:h=>h.key==="Enter"&&f()})]}),e.jsxs("select",{className:"input",value:l.type,onChange:h=>u("type",h.target.value),children:[e.jsx("option",{value:"",children:"Tüm Türler"}),e.jsx("option",{value:"INCOME",children:"Gelir"}),e.jsx("option",{value:"EXPENSE",children:"Gider"})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsxs("button",{className:"btn btn-secondary btn-md",onClick:f,children:[e.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Ara"]})})]})}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Kategori Listesi"}),e.jsx("p",{className:"card-description",children:"Tüm kategorilerinizin detaylı listesi"})]}),e.jsx("div",{className:"card-content",children:n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(ln,{className:"mx-auto h-12 w-12"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Henüz kategori bulunmuyor"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"İlk kategorinizi ekleyerek başlayın"}),e.jsxs("button",{className:"btn btn-primary btn-md",children:[e.jsx(Et,{className:"h-4 w-4 mr-2"}),"İlk Kategoriyi Ekle"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(h=>{var p;return e.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 rounded-full mr-3",style:{backgroundColor:h.color||"#6B7280"}}),e.jsx("h3",{className:"font-medium text-gray-900",children:h.name})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"btn btn-sm btn-secondary",children:e.jsx(Lt,{className:"h-3 w-3"})}),e.jsx("button",{className:"btn btn-sm btn-primary",children:e.jsx(nn,{className:"h-3 w-3"})}),e.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>d(h.id),children:e.jsx(ms,{className:"h-3 w-3"})})]})]}),h.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:h.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:`badge ${h.type==="INCOME"?"badge-success":"badge-danger"}`,children:h.type==="INCOME"?"Gelir":"Gider"}),e.jsxs("span",{className:"text-gray-500",children:[((p=h._count)==null?void 0:p.transactions)||0," işlem"]})]})]},h.id)})})})]})]})},qc=()=>{var S,N,g,O;const[t,s]=x.useState(""),[r,a]=x.useState(null),[n,i]=x.useState(!1),[l,o]=x.useState(30),[c,d]=x.useState({startDate:"",endDate:""}),u=[{id:"dashboard",name:"Dashboard Özeti",description:"Genel finansal durum özeti"},{id:"monthly-trend",name:"Aylık Trend",description:"Aylık gelir ve gider trendi"},{id:"category",name:"Kategori Raporu",description:"Kategori bazlı analiz"},{id:"customer",name:"Müşteri Raporu",description:"Müşteri bazlı işlem özeti"},{id:"cash-flow",name:"Nakit Akışı",description:"Nakit giriş ve çıkış raporu"},{id:"overdue-by-days",name:"Gecikmiş Faturalar (Gün Bazlı)",description:"Seçilen gün eşiğini aşan ödenmemiş faturaların müşteri bazlı toplamı"}],f=async k=>{try{i(!0),a(null);const D={};c.startDate&&(D.startDate=c.startDate),c.endDate&&(D.endDate=c.endDate);let _;switch(k){case"dashboard":_=await ye.getDashboardSummary(D);break;case"monthly-trend":_=await ye.getMonthlyTrend(D);break;case"category":_=await ye.getCategoryReport(D);break;case"customer":_=await ye.getCustomerReport(D);break;case"cash-flow":_=await ye.getCashFlowReport(D);break;case"overdue-by-days":_=await ye.getOverdueByDays(l);break;default:throw new Error("Geçersiz rapor türü")}a(_.data.data)}catch(D){console.error("Rapor yüklenirken hata:",D),Q.error("Rapor yüklenirken hata oluştu")}finally{i(!1)}},h=k=>{s(k),f(k)},p=(k,D)=>{d(_=>({..._,[k]:D}))},y=()=>{t&&f(t)},v=k=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(k),b=k=>new Date(k).toLocaleDateString("tr-TR");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Raporlar"}),e.jsx("p",{className:"text-gray-600",children:"Finansal durumunuzun detaylı analizleri"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"date",className:"input",value:c.startDate,onChange:k=>p("startDate",k.target.value),placeholder:"Başlangıç tarihi"}),e.jsx("input",{type:"date",className:"input",value:c.endDate,onChange:k=>p("endDate",k.target.value),placeholder:"Bitiş tarihi"}),t==="overdue-by-days"&&e.jsx("input",{type:"number",min:0,className:"input w-40",value:l,onChange:k=>o(Math.max(0,Number(k.target.value))),placeholder:"Gün (örn. 30)",title:"Gün eşiği"})]}),e.jsxs("button",{className:"btn btn-secondary btn-md",onClick:y,disabled:!t,children:[e.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Yenile"]}),e.jsxs("button",{className:"btn btn-primary btn-md",disabled:!t||!r,children:[e.jsx(Es,{className:"h-4 w-4 mr-2"}),"Rapor İndir"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:u.map(k=>e.jsx("div",{className:`card cursor-pointer transition-colors ${t===k.id?"ring-2 ring-primary-500":"hover:shadow-md"}`,onClick:()=>h(k.id),children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(jt,{className:"h-8 w-8 text-primary-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:k.name}),e.jsx("p",{className:"text-xs text-gray-500",children:k.description})]})]})})},k.id))}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:t?(S=u.find(k=>k.id===t))==null?void 0:S.name:"Rapor Seçin"}),e.jsx("p",{className:"card-description",children:t?(N=u.find(k=>k.id===t))==null?void 0:N.description:"Görüntülemek istediğiniz raporu seçin"})]}),e.jsx("div",{className:"card-content",children:n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):t?r?e.jsxs("div",{className:"space-y-6",children:[t==="dashboard"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(cn,{className:"h-8 w-8 text-success-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Toplam Gelir"}),e.jsx("p",{className:"text-lg font-semibold",children:v(r.totalIncome||0)})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(on,{className:"h-8 w-8 text-danger-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Toplam Gider"}),e.jsx("p",{className:"text-lg font-semibold",children:v(r.totalExpense||0)})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(je,{className:"h-8 w-8 text-primary-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Net Kar"}),e.jsx("p",{className:"text-lg font-semibold",children:v((r.totalIncome||0)-(r.totalExpense||0))})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(rt,{className:"h-8 w-8 text-warning-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Toplam Müşteri"}),e.jsx("p",{className:"text-lg font-semibold",children:r.totalCustomers||0})]})]})})})]}),t==="monthly-trend"&&r.monthlyData&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium mb-4",children:"Aylık Trend"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{className:"table-header-cell",children:"Ay"}),e.jsx("th",{className:"table-header-cell",children:"Gelir"}),e.jsx("th",{className:"table-header-cell",children:"Gider"}),e.jsx("th",{className:"table-header-cell",children:"Net"})]})}),e.jsx("tbody",{children:r.monthlyData.map((k,D)=>e.jsxs("tr",{className:"table-row",children:[e.jsx("td",{className:"table-cell",children:k.month}),e.jsx("td",{className:"table-cell text-success-600",children:v(k.income)}),e.jsx("td",{className:"table-cell text-danger-600",children:v(k.expense)}),e.jsx("td",{className:"table-cell font-medium",children:v(k.income-k.expense)})]},D))})]})})]}),t==="category"&&r.categories&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium mb-4",children:"Kategori Analizi"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.categories.map((k,D)=>e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium",children:k.name}),e.jsx("p",{className:"text-sm text-gray-500",children:k.type})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-semibold",children:v(k.total)}),e.jsxs("p",{className:"text-sm text-gray-500",children:[k.count," işlem"]})]})]})})},D))})]}),t==="customer"&&r.customers&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium mb-4",children:"Müşteri Analizi"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{className:"table-header-cell",children:"Müşteri"}),e.jsx("th",{className:"table-header-cell",children:"Toplam İşlem"}),e.jsx("th",{className:"table-header-cell",children:"Toplam Tutar"}),e.jsx("th",{className:"table-header-cell",children:"Son İşlem"})]})}),e.jsx("tbody",{children:r.customers.map((k,D)=>e.jsxs("tr",{className:"table-row",children:[e.jsx("td",{className:"table-cell",children:k.name}),e.jsx("td",{className:"table-cell",children:k.transactionCount}),e.jsx("td",{className:"table-cell",children:v(k.totalAmount)}),e.jsx("td",{className:"table-cell",children:b(k.lastTransaction)})]},D))})]})})]}),t==="cash-flow"&&r.cashFlow&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium mb-4",children:"Nakit Akışı"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-content",children:[e.jsx("h5",{className:"font-medium text-success-600",children:"Nakit Giriş"}),e.jsx("p",{className:"text-2xl font-bold",children:v(r.cashFlow.inflow)})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-content",children:[e.jsx("h5",{className:"font-medium text-danger-600",children:"Nakit Çıkış"}),e.jsx("p",{className:"text-2xl font-bold",children:v(r.cashFlow.outflow)})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-content",children:[e.jsx("h5",{className:"font-medium text-primary-600",children:"Net Nakit"}),e.jsx("p",{className:"text-2xl font-bold",children:v(r.cashFlow.netFlow)})]})})]})]}),t==="overdue-by-days"&&r.customers&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-lg font-medium",children:[l,"+ gün gecikmiş faturalar (Müşteri Bazlı)"]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Toplam Müşteri"}),e.jsx("p",{className:"text-lg font-semibold",children:((g=r.summary)==null?void 0:g.customerCount)||r.customers.length})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Toplam Gecikmiş Tutar: "}),e.jsx("span",{className:"text-lg font-semibold",children:v(((O=r.summary)==null?void 0:O.totalOverdueAmount)||0)})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{className:"table-header-cell",children:"Müşteri"}),e.jsx("th",{className:"table-header-cell",children:"Kod"}),e.jsx("th",{className:"table-header-cell",children:"Gecikmiş Fatura Adedi"}),e.jsx("th",{className:"table-header-cell",children:"Maks. Gecikme (gün)"}),e.jsx("th",{className:"table-header-cell",children:"Gecikmiş Tutar"})]})}),e.jsx("tbody",{children:r.customers.map((k,D)=>{var _,z;return e.jsxs("tr",{className:"table-row",children:[e.jsx("td",{className:"table-cell",children:(_=k.customer)==null?void 0:_.name}),e.jsx("td",{className:"table-cell",children:(z=k.customer)==null?void 0:z.code}),e.jsx("td",{className:"table-cell",children:k.overdueInvoiceCount}),e.jsx("td",{className:"table-cell",children:k.maxOverdueDays}),e.jsx("td",{className:"table-cell font-medium",children:v(k.overdueAmount)})]},D)})})]})})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(jt,{className:"mx-auto h-12 w-12"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Rapor verisi bulunamadı"}),e.jsx("p",{className:"text-gray-500",children:"Seçilen tarih aralığında veri bulunmuyor"})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(jt,{className:"mx-auto h-12 w-12"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Rapor seçilmedi"}),e.jsx("p",{className:"text-gray-500",children:"Yukarıdaki raporlardan birini seçerek başlayın"})]})})]})]})},$c=()=>{const[t,s]=x.useState([]),[r,a]=x.useState(null),[n,i]=x.useState(!1),[l,o]=x.useState({customerId:"",overdueOnly:!1,sortBy:"dueDate",sortOrder:"asc"}),[c,d]=x.useState({page:1,limit:50,total:0,pages:0}),[u,f]=x.useState([]),[h,p]=x.useState(30),[y,v]=x.useState(!1),[b,S]=x.useState(null),[N,g]=x.useState([]);x.useEffect(()=>{O()},[]),x.useEffect(()=>{k()},[l,c.page]),x.useEffect(()=>{D()},[]);const O=async()=>{try{const E=await(await fetch("/api/customers?limit=1000")).json();E.success&&f(E.customers)}catch(T){console.error("Müşteriler yüklenirken hata:",T)}},k=async()=>{try{i(!0);const T=new URLSearchParams({page:c.page.toString(),limit:c.limit.toString(),sortBy:l.sortBy,sortOrder:l.sortOrder,overdueOnly:l.overdueOnly.toString()});l.customerId&&T.append("customerId",l.customerId);const E=await ye.getUnpaidInvoices(T.toString());E.data.success&&(s(E.data.data.invoices),a(E.data.data.summary),d($=>({...$,total:E.data.data.pagination.total,pages:E.data.data.pagination.pages})))}catch(T){console.error("Faturalar yüklenirken hata:",T),Q.error("Faturalar yüklenirken hata oluştu")}finally{i(!1)}},D=async()=>{try{v(!0);const T=await ye.getOverdueByDays(h);T.data.success&&(S(T.data.data.summary),g(T.data.data.customers))}catch(T){console.error("Gün bazlı gecikmiş müşteri özeti yüklenirken hata:",T),Q.error("Gün bazlı gecikmiş müşteri özeti yüklenirken hata oluştu")}finally{v(!1)}},_=(T,E)=>{o($=>({...$,[T]:E})),d($=>({...$,page:1}))},z=T=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(T);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ödenmemiş Faturalar"}),e.jsx("p",{className:"text-gray-600",children:"Müşterilerin ödenmemiş faturalarının detaylı listesi"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"btn btn-secondary btn-md",onClick:k,disabled:n,children:[e.jsx(cr,{className:"h-4 w-4 mr-2"}),"Yenile"]}),e.jsxs("button",{className:"btn btn-primary btn-md",disabled:!t.length,children:[e.jsx(Es,{className:"h-4 w-4 mr-2"}),"Excel İndir"]})]})]}),r&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(De,{className:"h-8 w-8 text-primary-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Toplam Fatura"}),e.jsx("p",{className:"text-lg font-semibold",children:r.totalInvoices})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(je,{className:"h-8 w-8 text-success-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Toplam Tutar"}),e.jsx("p",{className:"text-lg font-semibold",children:z(r.totalAmount)})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ct,{className:"h-8 w-8 text-danger-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Vadesi Geçmiş"}),e.jsx("p",{className:"text-lg font-semibold",children:r.overdueInvoices})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(je,{className:"h-8 w-8 text-danger-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Gecikmiş Tutar"}),e.jsx("p",{className:"text-lg font-semibold",children:z(r.overdueAmount)})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Cs,{className:"h-8 w-8 text-warning-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Güncel"}),e.jsx("p",{className:"text-lg font-semibold",children:r.overdueCategories.current})]})]})})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Filtreler"})}),e.jsxs("div",{className:"card-content",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Müşteri"}),e.jsxs("select",{className:"input",value:l.customerId,onChange:T=>_("customerId",T.target.value),children:[e.jsx("option",{value:"",children:"Tüm Müşteriler"}),u.map(T=>e.jsx("option",{value:T.id,children:T.name},T.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Sıralama"}),e.jsxs("select",{className:"input",value:l.sortBy,onChange:T=>_("sortBy",T.target.value),children:[e.jsx("option",{value:"dueDate",children:"Vade Tarihi"}),e.jsx("option",{value:"date",children:"Fatura Tarihi"}),e.jsx("option",{value:"amount",children:"Tutar"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Gün (Müşteri Özeti)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",min:0,className:"input",value:h,onChange:T=>p(Math.max(0,Number(T.target.value))),placeholder:"Örn. 30"}),e.jsx("button",{className:"btn btn-outline",onClick:D,disabled:y,children:y?"Yükleniyor...":"Uygula"})]})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"checkbox",checked:l.overdueOnly,onChange:T=>_("overdueOnly",T.target.checked)}),e.jsx("span",{className:"ml-2",children:"Sadece vadesi geçmiş faturalar"})]}),e.jsx("button",{className:"btn btn-sm btn-outline",onClick:()=>_("sortOrder",l.sortOrder==="asc"?"desc":"asc"),children:l.sortOrder==="asc"?"↑":"↓"})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title flex items-center",children:[e.jsx(rt,{className:"h-5 w-5 mr-2"}),h,"+ Gün Gecikmiş (Müşteri Bazlı)"]})}),e.jsx("div",{className:"card-content",children:y?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):N.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(rt,{className:"h-6 w-6 text-blue-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Müşteri Sayısı"}),e.jsx("p",{className:"text-lg font-semibold",children:(b==null?void 0:b.customerCount)||N.length})]})]})}),e.jsx("div",{className:"bg-orange-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(je,{className:"h-6 w-6 text-orange-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Gecikmiş Tutar"}),e.jsx("p",{className:"text-lg font-semibold",children:z((b==null?void 0:b.totalOverdueAmount)||0)})]})]})}),e.jsx("div",{className:"bg-red-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ct,{className:"h-6 w-6 text-red-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Gün Eşiği"}),e.jsxs("p",{className:"text-lg font-semibold",children:[h," gün"]})]})]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{className:"table-header-cell",children:"Müşteri"}),e.jsx("th",{className:"table-header-cell",children:"Kod"}),e.jsx("th",{className:"table-header-cell",children:"Gecikmiş Fatura Adedi"}),e.jsx("th",{className:"table-header-cell",children:"Maks. Gecikme (gün)"}),e.jsx("th",{className:"table-header-cell",children:"Gecikmiş Tutar"})]})}),e.jsx("tbody",{children:N.map((T,E)=>{var $,I;return e.jsxs("tr",{className:"table-row",children:[e.jsx("td",{className:"table-cell",children:($=T.customer)==null?void 0:$.name}),e.jsx("td",{className:"table-cell",children:(I=T.customer)==null?void 0:I.code}),e.jsx("td",{className:"table-cell",children:T.overdueInvoiceCount}),e.jsx("td",{className:"table-cell",children:T.maxOverdueDays}),e.jsx("td",{className:"table-cell font-medium",children:z(T.overdueAmount)})]},E)})})]})})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(rt,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Seçilen gün eşiğine göre gecikmiş müşteri bulunmuyor"})]})})]})]})},Vc=()=>{const[t,s]=x.useState([]),[r,a]=x.useState(null),[n,i]=x.useState(!1),[l,o]=x.useState({customerId:"",startDate:"",endDate:"",sortBy:"date",sortOrder:"desc"}),[c,d]=x.useState({page:1,limit:50,total:0,pages:0}),[u,f]=x.useState([]);x.useEffect(()=>{h()},[]),x.useEffect(()=>{p()},[l,c.page]);const h=async()=>{try{const O=await(await fetch("/api/customers?limit=1000")).json();O.success&&f(O.customers)}catch(g){console.error("Müşteriler yüklenirken hata:",g)}},p=async()=>{try{i(!0);const g=new URLSearchParams({page:c.page.toString(),limit:c.limit.toString(),sortBy:l.sortBy,sortOrder:l.sortOrder});l.customerId&&g.append("customerId",l.customerId),l.startDate&&g.append("startDate",l.startDate),l.endDate&&g.append("endDate",l.endDate);const O=await ye.getPaidInvoices(g.toString());O.data.success&&(s(O.data.data.payments),a(O.data.data.summary),d(k=>({...k,total:O.data.data.pagination.total,pages:O.data.data.pagination.pages})))}catch(g){console.error("Ödenmiş faturalar yüklenirken hata:",g),Q.error("Ödenmiş faturalar yüklenirken hata oluştu")}finally{i(!1)}},y=(g,O)=>{o(k=>({...k,[g]:O})),d(k=>({...k,page:1}))},v=g=>{d(O=>({...O,page:g}))},b=g=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(g),S=g=>new Date(g).toLocaleDateString("tr-TR"),N=g=>{const k={Nakit:{color:"badge-success",icon:"💵"},Banka:{color:"badge-primary",icon:"🏦"},Çek:{color:"badge-warning",icon:"📄"}}[g]||{color:"badge-secondary",icon:"💳"};return e.jsxs("span",{className:`badge ${k.color}`,children:[k.icon," ",g]})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ödenmiş Faturalar"}),e.jsx("p",{className:"text-gray-600",children:"FIFO mantığı ile hesaplanan tamamen ödenmiş faturalar"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"btn btn-secondary btn-md",onClick:p,disabled:n,children:[e.jsx(cr,{className:"h-4 w-4 mr-2"}),"Yenile"]}),e.jsxs("button",{className:"btn btn-primary btn-md",disabled:!t.length,children:[e.jsx(Es,{className:"h-4 w-4 mr-2"}),"Excel İndir"]})]})]}),r&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(us,{className:"h-8 w-8 text-success-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Ödenmiş Fatura"}),e.jsx("p",{className:"text-lg font-semibold",children:r.totalPaidInvoices})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(je,{className:"h-8 w-8 text-primary-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Toplam Tutar"}),e.jsx("p",{className:"text-lg font-semibold",children:b(r.totalAmount)})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(je,{className:"h-8 w-8 text-info-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Ortalama Fatura"}),e.jsx("p",{className:"text-lg font-semibold",children:b(r.averagePayment)})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(hs,{className:"h-8 w-8 text-warning-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Banka Ödemeleri"}),e.jsx("p",{className:"text-lg font-semibold",children:r.paymentMethods.bank})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(je,{className:"h-8 w-8 text-success-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Nakit Ödemeler"}),e.jsx("p",{className:"text-lg font-semibold",children:r.paymentMethods.cash})]})]})})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Filtreler"})}),e.jsxs("div",{className:"card-content",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Müşteri"}),e.jsxs("select",{className:"input",value:l.customerId,onChange:g=>y("customerId",g.target.value),children:[e.jsx("option",{value:"",children:"Tüm Müşteriler"}),u.map(g=>e.jsx("option",{value:g.id,children:g.name},g.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Başlangıç Tarihi"}),e.jsx("input",{type:"date",className:"input",value:l.startDate,onChange:g=>y("startDate",g.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Bitiş Tarihi"}),e.jsx("input",{type:"date",className:"input",value:l.endDate,onChange:g=>y("endDate",g.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Sıralama"}),e.jsxs("select",{className:"input",value:l.sortBy,onChange:g=>y("sortBy",g.target.value),children:[e.jsx("option",{value:"date",children:"Son Ödeme Tarihi"}),e.jsx("option",{value:"amount",children:"Fatura Tutarı"})]})]})]}),e.jsx("div",{className:"mt-4 flex items-center gap-4",children:e.jsx("button",{className:"btn btn-sm btn-outline",onClick:()=>y("sortOrder",l.sortOrder==="asc"?"desc":"asc"),children:l.sortOrder==="asc"?"↑":"↓"})})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Ödenmiş Fatura Listesi"}),e.jsxs("p",{className:"card-description",children:[c.total," ödenmiş fatura bulundu (FIFO mantığı ile hesaplanmıştır)"]})]}),e.jsxs("div",{className:"card-content",children:[n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):t.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{className:"table-header-cell",children:"Müşteri"}),e.jsx("th",{className:"table-header-cell",children:"Fatura Tarihi"}),e.jsx("th",{className:"table-header-cell",children:"Son Ödeme Tarihi"}),e.jsx("th",{className:"table-header-cell",children:"Fatura Tutarı"}),e.jsx("th",{className:"table-header-cell",children:"Ödeme Yöntemi"}),e.jsx("th",{className:"table-header-cell",children:"İşlemler"}),e.jsx("th",{className:"table-header-cell",children:"İşlemler"})]})}),e.jsx("tbody",{children:t.map(g=>{var O,k,D;return e.jsxs("tr",{className:"table-row",children:[e.jsx("td",{className:"table-cell",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:((O=g.customer)==null?void 0:O.name)||"Bilinmeyen Müşteri"}),((k=g.customer)==null?void 0:k.phone)&&e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(ea,{className:"h-3 w-3 mr-1"}),g.customer.phone]})]})}),e.jsx("td",{className:"table-cell",children:S(g.date)}),e.jsx("td",{className:"table-cell",children:S(g.lastPaymentDate)}),e.jsx("td",{className:"table-cell font-medium text-success-600",children:b(g.amount)}),e.jsx("td",{className:"table-cell",children:N(g.paymentMethod)}),e.jsx("td",{className:"table-cell",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"btn btn-sm btn-outline",title:"Detayları Görüntüle",children:e.jsx(Lt,{className:"h-4 w-4"})}),((D=g.customer)==null?void 0:D.phone)&&e.jsx("a",{href:`tel:${g.customer.phone}`,className:"btn btn-sm btn-outline",title:"Ara",children:e.jsx(ea,{className:"h-4 w-4"})})]})})]},g.id)})})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(us,{className:"mx-auto h-12 w-12"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ödenmiş fatura bulunamadı"}),e.jsx("p",{className:"text-gray-500",children:"Seçilen kriterlere uygun tamamen ödenmiş fatura bulunmuyor"})]}),c.pages>1&&e.jsx("div",{className:"flex justify-center mt-6",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"btn btn-sm btn-outline",onClick:()=>v(c.page-1),disabled:c.page<=1,children:"Önceki"}),Array.from({length:Math.min(5,c.pages)},(g,O)=>{const k=O+1;return e.jsx("button",{className:`btn btn-sm ${c.page===k?"btn-primary":"btn-outline"}`,onClick:()=>v(k),children:k},k)}),e.jsx("button",{className:"btn btn-sm btn-outline",onClick:()=>v(c.page+1),disabled:c.page>=c.pages,children:"Sonraki"})]})})]})]})]})},zc=()=>{const[t,s]=x.useState(null),[r,a]=x.useState(!1),[n,i]=x.useState("");x.useEffect(()=>{l()},[]);const l=async()=>{try{a(!0);const d=await ye.getDebugFifo();d.data.success&&s(d.data.data)}catch(d){console.error("Debug verisi yüklenirken hata:",d),Q.error("Debug verisi yüklenirken hata oluştu")}finally{a(!1)}},o=d=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(d),c=d=>new Date(d).toLocaleDateString("tr-TR");return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"FIFO Debug"}),e.jsx("p",{className:"text-gray-600",children:"FIFO hesaplamasının detaylı analizi"})]}),e.jsxs("button",{className:"btn btn-secondary btn-md",onClick:l,disabled:r,children:[e.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Yenile"]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Özet"})}),e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Lt,{className:"h-6 w-6 text-blue-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Müşteri"}),e.jsx("p",{className:"text-lg font-semibold",children:t.summary.totalCustomers})]})]})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(je,{className:"h-6 w-6 text-green-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Fatura"}),e.jsx("p",{className:"text-lg font-semibold",children:t.summary.totalInvoices})]})]})}),e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Cs,{className:"h-6 w-6 text-purple-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Ödeme"}),e.jsx("p",{className:"text-lg font-semibold",children:t.summary.totalPayments})]})]})})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Müşteri Filtresi"})}),e.jsx("div",{className:"card-content",children:e.jsxs("select",{className:"input w-full md:w-64",value:n,onChange:d=>i(d.target.value),children:[e.jsx("option",{value:"",children:"Tüm Müşteriler"}),t.debugResults.map((d,u)=>{var f,h;return e.jsxs("option",{value:u,children:[((f=d.customer)==null?void 0:f.name)||"Bilinmeyen Müşteri"," (",(h=d.customer)==null?void 0:h.code,")"]},u)})]})})]}),t.debugResults.map((d,u)=>{var f,h;return n!==""&&parseInt(n)!==u?null:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h3",{className:"card-title",children:[((f=d.customer)==null?void 0:f.name)||"Bilinmeyen Müşteri"," (",(h=d.customer)==null?void 0:h.code,")"]}),e.jsxs("p",{className:"card-description",children:[d.invoices.length," fatura, ",d.payments.length," ödeme"]})]}),e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium mb-3",children:"Faturalar"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Tarih"}),e.jsx("th",{children:"Tutar"}),e.jsx("th",{children:"Açıklama"})]})}),e.jsx("tbody",{children:d.invoices.map(p=>e.jsxs("tr",{children:[e.jsx("td",{children:c(p.date)}),e.jsx("td",{className:"font-medium",children:o(p.debit)}),e.jsx("td",{children:p.description})]},p.id))})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium mb-3",children:"Ödemeler"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Tarih"}),e.jsx("th",{children:"Tutar"}),e.jsx("th",{children:"Açıklama"})]})}),e.jsx("tbody",{children:d.payments.map(p=>e.jsxs("tr",{children:[e.jsx("td",{children:c(p.date)}),e.jsx("td",{className:"font-medium text-success-600",children:o(p.credit)}),e.jsx("td",{children:p.description})]},p.id))})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium mb-3",children:"FIFO Hesaplaması"}),e.jsx("div",{className:"space-y-4",children:d.fifoCalculation.map((p,y)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"font-medium",children:["Fatura #",y+1," - ",c(p.invoiceDate)]}),e.jsx("p",{className:"text-sm text-gray-600",children:o(p.invoiceAmount)})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`badge ${p.isFullyPaid?"badge-success":"badge-warning"}`,children:p.isFullyPaid?"Tamamen Ödendi":"Kısmen Ödendi"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Ödenen Tutar"}),e.jsx("p",{className:"font-medium text-success-600",children:o(p.totalPaid)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Kalan Tutar"}),e.jsx("p",{className:"font-medium text-danger-600",children:o(p.remainingAmount)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Ödeme Sayısı"}),e.jsx("p",{className:"font-medium",children:p.payments.length})]})]}),p.payments.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Kullanılan Ödemeler:"}),e.jsx("div",{className:"space-y-2",children:p.payments.map((v,b)=>e.jsxs("div",{className:"flex justify-between items-center text-sm bg-gray-50 p-2 rounded",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:c(v.paymentDate)}),e.jsxs("span",{className:"text-gray-600 ml-2",children:["- ",v.description]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-success-600 font-medium",children:o(v.paymentAmount)}),e.jsxs("span",{className:"text-gray-500 ml-1",children:["/ ",o(v.originalPaymentAmount)]})]})]},b))})]})]},y))})]})]})})]},u)})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Zs,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Debug verisi bulunamadı"}),e.jsx("p",{className:"text-gray-500",children:"FIFO hesaplaması debug verisi yüklenemedi"})]})},Bs={importExcel:(t,s)=>{const r=new FormData;return r.append("file",t),F.post("/imports/excel",r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:s})},importCSV:(t,s)=>{const r=new FormData;return r.append("file",t),F.post("/imports/csv",r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:s})},importCustomers:(t,s)=>{const r=new FormData;return r.append("file",t),F.post("/imports/customers",r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:s})},downloadTemplate:(t="transactions")=>F.get(`/imports/template?type=${t}`,{responseType:"blob"})},Qc=()=>{const[t,s]=x.useState(!1),[r,a]=x.useState(null),[n,i]=x.useState(!1),[l,o]=x.useState(0),[c,d]=x.useState("excel"),u=x.useRef(null),f=ys(),h=N=>{N.preventDefault(),N.stopPropagation(),N.type==="dragenter"||N.type==="dragover"?s(!0):N.type==="dragleave"&&s(!1)},p=N=>{N.preventDefault(),N.stopPropagation(),s(!1),N.dataTransfer.files&&N.dataTransfer.files[0]&&a(N.dataTransfer.files[0])},y=N=>{N.target.files&&N.target.files[0]&&a(N.target.files[0])},v=async()=>{var N,g,O;if(!r){Q.error("Lütfen bir dosya seçin");return}try{i(!0),o(0),console.log("Yüklenecek dosya:",r.name,"Boyut:",r.size,"Tip:",r.type);const k=_=>{const z=Math.round(_.loaded*100/_.total);o(z)};let D;c==="excel"?D=await Bs.importExcel(r,k):D=await Bs.importCSV(r,k),console.log("Upload response:",D),Q.success("Dosya başarıyla yüklendi ve işlendi"),a(null),o(0),u.current&&(u.current.value=""),f("/customers")}catch(k){console.error("Dosya yükleme hatası:",k),console.error("Error response:",(N=k.response)==null?void 0:N.data),Q.error(((O=(g=k.response)==null?void 0:g.data)==null?void 0:O.message)||"Dosya yüklenirken hata oluştu")}finally{i(!1)}},b=async()=>{try{const N=await Bs.downloadTemplate(c),g=window.URL.createObjectURL(new Blob([N.data])),O=document.createElement("a");O.href=g,O.setAttribute("download",`${c}_template.xlsx`),document.body.appendChild(O),O.click(),O.remove(),window.URL.revokeObjectURL(g),Q.success("Şablon başarıyla indirildi")}catch(N){console.error("Şablon indirme hatası:",N),Q.error("Şablon indirilirken hata oluştu")}},S=()=>{a(null),u.current&&(u.current.value="")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dosya Import"}),e.jsx("p",{className:"text-gray-600",children:"Excel ve CSV dosyalarınızı sisteme yükleyin"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{className:"input",value:c,onChange:N=>d(N.target.value),children:[e.jsx("option",{value:"excel",children:"Excel Şablonu"}),e.jsx("option",{value:"csv",children:"CSV Şablonu"})]}),e.jsxs("button",{className:"btn btn-secondary btn-md",onClick:b,children:[e.jsx(Es,{className:"h-4 w-4 mr-2"}),"Şablon İndir"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Excel Import"}),e.jsx("p",{className:"card-description",children:"Ekstre ve cari hesap verilerini Excel dosyasından import edin"})]}),e.jsxs("div",{className:"card-content",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Zr,{className:"h-8 w-8 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Desteklenen Formatlar"}),e.jsx("p",{className:"text-sm text-gray-500",children:".xlsx, .xls"})]})]}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Cari hesap ekstreleri"}),e.jsx("li",{children:"• Müşteri listeleri"}),e.jsx("li",{children:"• İşlem geçmişi"})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"CSV Import"}),e.jsx("p",{className:"card-description",children:"Banka hareketleri ve işlem verilerini CSV dosyasından import edin"})]}),e.jsxs("div",{className:"card-content",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(De,{className:"h-8 w-8 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Desteklenen Formatlar"}),e.jsx("p",{className:"text-sm text-gray-500",children:".csv, .txt"})]})]}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Banka hareketleri"}),e.jsx("li",{children:"• Gelir/gider listeleri"}),e.jsx("li",{children:"• Kategori verileri"})]})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Dosya Yükle"}),e.jsx("p",{className:"card-description",children:"Import etmek istediğiniz dosyayı seçin veya sürükleyin"})]}),e.jsxs("div",{className:"card-content",children:[e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${t?"border-primary-500 bg-primary-50":"border-gray-300"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:p,children:[e.jsx(yt,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-lg font-medium text-gray-900",children:r?r.name:"Dosya seçin veya sürükleyin"}),e.jsx("p",{className:"text-sm text-gray-500",children:r?`${(r.size/1024/1024).toFixed(2)} MB`:"Excel (.xlsx, .xls) veya CSV (.csv) dosyaları desteklenir"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("input",{ref:u,type:"file",id:"file-upload",className:"hidden",accept:".xlsx,.xls,.csv",onChange:y}),e.jsxs("label",{htmlFor:"file-upload",className:"btn btn-primary btn-md cursor-pointer",children:[e.jsx(yt,{className:"h-4 w-4 mr-2"}),"Dosya Seç"]})]})]}),r&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[c==="excel"?e.jsx(Zr,{className:"h-6 w-6 text-green-600 mr-3"}):e.jsx(De,{className:"h-6 w-6 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:r.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(r.size/1024/1024).toFixed(2)," MB"]})]})]}),e.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600",children:e.jsx(dr,{className:"h-5 w-5"})})]}),n&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Yükleniyor..."}),e.jsxs("span",{children:[l,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${l}%`}})})]}),e.jsx("button",{onClick:v,disabled:n,className:"btn btn-primary btn-lg w-full",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Yükleniyor..."]}):e.jsxs(e.Fragment,{children:[e.jsx(yt,{className:"h-4 w-4 mr-2"}),"Dosyayı Import Et"]})})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Import Geçmişi"}),e.jsx("p",{className:"card-description",children:"Son import işlemlerinizin listesi"})]}),e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(yt,{className:"mx-auto h-12 w-12"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Henüz import geçmişi yok"}),e.jsx("p",{className:"text-gray-500",children:"İlk dosyanızı import ettikten sonra burada görünecek"})]})})]})]})},gt={getExtracts:async()=>(await F.get("/extracts")).data,uploadExtract:async t=>{const s=new FormData;s.append("file",t),await F.post("/extracts/upload",s,{headers:{"Content-Type":"multipart/form-data"}})},async getExtractDetail(t){return F.get(`/extracts/${t}`)},async deleteOldExtracts(t=null,s=!1){return F.delete("/extracts/delete-old",{data:{beforeDate:t,deleteAll:s}})},async deleteExtract(t){return F.delete(`/extracts/${t}`)}},Kc=()=>{const[t,s]=x.useState([]),[r,a]=x.useState(!0),[n,i]=x.useState(null),[l,o]=x.useState(!1),[c,d]=x.useState(""),[u,f]=x.useState(!1),[h,p]=x.useState("");x.useEffect(()=>{y()},[]);const y=async()=>{a(!0);try{const g=await gt.getExtracts();s(g)}catch{d("Ekstreler yüklenemedi")}a(!1)},v=g=>{const O=g.target.files[0];i(O),d("")},b=async g=>{var O,k,D,_,z;if(g.preventDefault(),!!n){o(!0),d("");try{console.log("Ekstre yüklenecek dosya:",n.name,"Boyut:",n.size,"Tip:",n.type),await gt.uploadExtract(n),i(null);const T=document.querySelector('input[type="file"]');T&&(T.value=""),await y(),Q.success("Ekstre başarıyla yüklendi!")}catch(T){console.error("Ekstre yükleme hatası:",T),console.error("Error response:",(O=T.response)==null?void 0:O.data),d(((D=(k=T.response)==null?void 0:k.data)==null?void 0:D.error)||((z=(_=T.response)==null?void 0:_.data)==null?void 0:z.message)||"Yükleme başarısız!")}o(!1)}},S=async g=>{if(confirm("Bu ekstreyi silmek istediğinizden emin misiniz?"))try{await gt.deleteExtract(g),await y(),Q.success("Ekstre başarıyla silindi!")}catch{Q.error("Ekstre silinirken hata oluştu!")}},N=async()=>{try{const g=await gt.deleteOldExtracts(null,!0);await y(),Q.success(`${g.data.deletedCount} ekstre başarıyla silindi!`),f(!1)}catch{Q.error("Ekstreler silinirken hata oluştu!")}};return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Ekstre Yüklemeleri"}),e.jsxs("button",{onClick:()=>f(!0),className:"bg-red-600 text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-red-700",children:[e.jsx(ms,{size:16}),"Eski Yüklemeleri Sil"]})]}),e.jsxs("form",{onSubmit:b,className:"mb-4 flex gap-2 items-center",children:[e.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:v}),e.jsx("button",{type:"submit",disabled:l||!n,className:"bg-primary-600 text-white px-4 py-2 rounded",children:l?"Yükleniyor...":"Yükle"})]}),c&&e.jsx("div",{className:"text-red-500 mb-2",children:c}),r?e.jsx("div",{children:"Yükleniyor..."}):e.jsxs("table",{className:"min-w-full border",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-2",children:"Dosya Adı"}),e.jsx("th",{className:"border px-2",children:"Yükleme Tarihi"}),e.jsx("th",{className:"border px-2",children:"Durum"}),e.jsx("th",{className:"border px-2",children:"Toplam Satır"}),e.jsx("th",{className:"border px-2",children:"İşlenen Satır"}),e.jsx("th",{className:"border px-2",children:"Hata Satırı"}),e.jsx("th",{className:"border px-2",children:"İşlemler"})]})}),e.jsx("tbody",{children:t.map(g=>e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2",children:g.fileName}),e.jsx("td",{className:"border px-2",children:new Date(g.uploadDate).toLocaleString()}),e.jsx("td",{className:"border px-2",children:g.status}),e.jsx("td",{className:"border px-2",children:g.totalRows}),e.jsx("td",{className:"border px-2",children:g.processedRows}),e.jsx("td",{className:"border px-2",children:g.errorRows}),e.jsxs("td",{className:"border px-2 flex gap-2",children:[e.jsx(kt,{to:`/extracts/${g.id}`,className:"text-primary-600 underline",children:"Detay"}),e.jsx("button",{onClick:()=>S(g.id),className:"text-red-600 hover:text-red-800",title:"Sil",children:e.jsx(ms,{size:16})})]})]},g.id))})]}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ct,{className:"text-red-600",size:24}),e.jsx("h3",{className:"text-lg font-semibold",children:"Eski Yüklemeleri Sil"})]}),e.jsx("p",{className:"mb-4 text-gray-600",children:"Tüm eski ekstre yüklemelerini silmek istediğinizden emin misiniz? Bu işlem geri alınamaz ve tüm işlem verilerini de silecektir."}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50",children:"İptal"}),e.jsx("button",{onClick:N,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Tümünü Sil"})]})]})})]})},me={getTransactions:()=>F.get("/banking/transactions"),getUnmatchedPayments:()=>F.get("/banking/unmatched"),getMatchingStats:()=>F.get("/banking/matching-stats"),getEmailStats:()=>F.get("/banking/email-stats"),getPDFTransactions:()=>F.get("/banking/pdf-transactions"),fetchEmails:()=>F.post("/banking/fetch-emails"),fetchEmailsByDateRange:(t,s)=>F.post("/banking/fetch-emails-by-date",{startDate:t,endDate:s}),getEmailSettings:()=>F.get("/banking/email-settings"),updateEmailSettings:t=>F.put("/banking/email-settings",t),testEmailConnection:()=>F.post("/banking/test-connection"),startRealtimeMonitoring:()=>F.post("/banking/start-monitoring"),stopRealtimeMonitoring:()=>F.post("/banking/stop-monitoring"),runAutoMatching:()=>F.post("/banking/auto-matching"),matchPayment:t=>F.post("/banking/match-payment",t),parsePDF:t=>{const s=new FormData;return s.append("pdf",t),F.post("/banking/parse-pdf",s,{headers:{"Content-Type":"multipart/form-data"}})},savePDFTransactions:(t,s)=>F.post("/banking/save-pdf-transactions",{transactions:t,accountInfo:s}),processPDFETL:t=>{const s=new FormData;return s.append("pdf",t),F.post("/banking/process-pdf-etl",s,{headers:{"Content-Type":"multipart/form-data"}})},deleteTransaction:t=>F.delete(`/banking/transactions/${t}`),deleteTransactions:t=>F.post("/banking/delete-transactions",t),cleanupOldTransactions:(t,s=!0)=>F.post("/banking/cleanup-transactions",{date:t,dryRun:s}),getMissingTransactions:()=>F.get("/banking/missing-transactions")},Hc=async()=>{try{return(await F.get("/banking/missing-transactions")).data}catch(t){throw console.error("Eksik işlemler getirilirken hata:",t),t}},Gc=()=>{var jr,Nr,wr,kr,Sr;const[t,s]=x.useState([]),[r,a]=x.useState([]),[n,i]=x.useState([]),[l,o]=x.useState(!0),[c,d]=x.useState("all"),[u,f]=x.useState([]),[h,p]=x.useState(!1),[y,v]=x.useState(null),[b,S]=x.useState(""),[N,g]=x.useState(""),[O,k]=x.useState(""),[D,_]=x.useState(null),[z,T]=x.useState(null),[E,$]=x.useState(!1),[I,q]=x.useState(!1),[A,G]=x.useState(null),[W,te]=x.useState(!1),[he,oe]=x.useState(!1),[Ne,_e]=x.useState(""),[qe,Ut]=x.useState(""),[ct,dt]=x.useState(!1),[Bt,Xe]=x.useState(!1),[ut,Ze]=x.useState([]),[de,qt]=x.useState({}),[$e,Rs]=x.useState(!1),[Os,Fs]=x.useState(null),[yr,gr]=x.useState(!1),[vn,As]=x.useState(!1),[m,j]=x.useState(null),[C,P]=x.useState(!1),[M,R]=x.useState(!1),[U,J]=x.useState(!1),[X,we]=x.useState(!1),[ht,Oe]=x.useState([]),[br,$t]=x.useState(""),[Vt,vr]=x.useState(!0);x.useEffect(()=>{Fe(),et(),mt()},[]);const Fe=async()=>{var B;o(!0);try{console.log("🔄 Veri yükleniyor...");const[ie,Ve,tt,Ms,Ps,ze,zt]=await Promise.all([me.getTransactions(),me.getUnmatchedPayments(),ur.getCustomers(),me.getMatchingStats(),me.getEmailStats(),Hc(),me.getPDFTransactions()]);console.log("📊 Transactions Response:",ie),console.log("📊 Unmatched Response:",Ve),console.log("📊 Customers Response:",tt),console.log("📊 Matching Stats Response:",Ms),console.log("📊 Email Stats Response:",Ps),console.log("📊 Missing Transactions Response:",ze);const Cr=((B=ie.data)==null?void 0:B.transactions)||ie.transactions||ie||[],Er=Ve.data||Ve||[],Tr=tt.data||tt||[];console.log(`📈 Transactions count: ${Cr.length}`),console.log(`📈 Unmatched count: ${Er.length}`),console.log(`📈 Customers count: ${Tr.length}`),s(Cr),a(Er),i(Tr),T(Ms.data||Ms),_(Ps.data||Ps),ze.data?(Ze(ze.data.missingTransactions||[]),qt(ze.data.summary||{})):ze.missingTransactions&&(Ze(ze.missingTransactions||[]),qt(ze.summary||{})),zt.data?f(zt.data.transactions||[]):zt.transactions&&f(zt.transactions||[])}catch(ie){console.error("Veri yükleme hatası:",ie)}finally{o(!1)}},et=async()=>{try{const B=await me.getEmailStats();_(B.data)}catch(B){console.error("Email istatistikleri yükleme hatası:",B)}},mt=async()=>{try{const B=await me.getEmailSettings();G(B.data)}catch(B){console.error("Email ayarları yükleme hatası:",B)}},jn=async()=>{o(!0);const B=await me.getUnmatchedPayments();a(B.data||[]),o(!1)},Nn=async()=>{try{$(!0);const B=await me.fetchEmails();_(B.data),await Fe(),await et(),alert(`✅ ${B.data.processed} email işlendi, ${B.data.duplicates} duplikasyon`)}catch(B){console.error("Email çekme hatası:",B),alert("❌ Email çekme sırasında hata oluştu")}finally{$(!1)}},wn=async()=>{if(!Ne||!qe){alert("Lütfen başlangıç ve bitiş tarihi seçin");return}try{Xe(!0);const B=await me.fetchEmailsByDateRange(Ne,qe);await Fe(),await et(),oe(!1),alert(`✅ ${B.data.processed} email işlendi, ${B.data.duplicates} duplikasyon`)}catch(B){console.error("Tarih aralığı email çekme hatası:",B),alert("❌ Tarih aralığında email çekme sırasında hata oluştu")}finally{Xe(!1)}},kn=async()=>{try{$(!0);const B=new Date().toISOString().split("T")[0],ie=new Date;ie.setDate(ie.getDate()-7);const Ve=ie.toISOString().split("T")[0],tt=await me.fetchEmailsByDateRange(Ve,B);await Fe(),await et(),alert(`✅ Son 1 hafta: ${tt.data.processed} email işlendi, ${tt.data.duplicates} duplikasyon`)}catch(B){console.error("Son 1 hafta email çekme hatası:",B),alert("❌ Son 1 haftanın e-postaları çekilirken hata oluştu")}finally{$(!1)}},Sn=async()=>{try{ct?(await me.stopRealtimeMonitoring(),dt(!1),alert("🛑 Realtime monitoring durduruldu")):(await me.startRealtimeMonitoring(),dt(!0),alert("🔄 Realtime monitoring başlatıldı"))}catch(B){console.error("Monitoring hatası:",B),alert("❌ Monitoring işlemi başarısız")}},Cn=async B=>{try{await me.updateEmailSettings(B),await mt(),te(!1),alert("✅ Email ayarları güncellendi")}catch(ie){console.error("Email ayarları güncelleme hatası:",ie),alert("❌ Email ayarları güncellenemedi")}},En=async()=>{try{(await me.testEmailConnection()).data.connected?alert("✅ Email bağlantısı başarılı!"):alert("❌ Email bağlantısı başarısız")}catch(B){console.error("Bağlantı testi hatası:",B),alert("❌ Email bağlantı testi başarısız")}},Tn=async()=>{try{q(!0);const B=await me.runAutoMatching();await Fe(),alert(`✅ ${B.data.matched} işlem eşleştirildi`)}catch(B){console.error("Otomatik eşleştirme hatası:",B),alert("❌ Otomatik eşleştirme sırasında hata oluştu")}finally{q(!1)}};return e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Banka İşlemleri"}),de.severity==="CRITICAL"&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"🔴"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-red-800 font-semibold",children:"Kritik Eksik İşlem Uyarısı!"}),e.jsxs("p",{className:"text-red-700",children:["Toplam ",(jr=de.totalDifference)==null?void 0:jr.toLocaleString("tr-TR")," TL bakiye farkı tespit edildi.",de.missingTransactionsCount," günde eksik işlem bulunuyor."]})]})]})}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"🔄 Otomatik İşlemler"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{onClick:Nn,disabled:E,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:E?"📧 Email Çekiliyor...":"📧 Email Çek"}),e.jsx("button",{onClick:()=>oe(!0),className:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700",children:"📅 Tarih Aralığı Çek"}),e.jsx("button",{onClick:kn,disabled:E,className:"px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50",children:E?"📧 Çekiliyor...":"📅 Son 1 Hafta"}),e.jsx("button",{onClick:Sn,className:`px-4 py-2 text-white rounded ${ct?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:ct?"🛑 Monitoring Durdur":"🔄 Monitoring Başlat"}),e.jsx("button",{onClick:En,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"🔗 Bağlantı Testi"}),e.jsx("button",{onClick:()=>te(!0),className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"⚙️ Email Ayarları"}),e.jsx("button",{onClick:Tn,disabled:I,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50",children:I?"🤖 Eşleştiriliyor...":"🤖 Otomatik Eşleştir"}),e.jsx("button",{onClick:()=>Rs(!$e),className:`px-4 py-2 rounded ${$e?"bg-gray-600 hover:bg-gray-700 text-white":"bg-orange-600 hover:bg-orange-700 text-white"}`,children:$e?"📊 İşlemleri Gizle":"🔍 Eksik İşlemleri Göster"})]}),z&&e.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-white p-3 rounded shadow",children:[e.jsx("div",{className:"font-bold text-blue-600",children:"Toplam İşlem"}),e.jsx("div",{children:z.total})]}),e.jsxs("div",{className:"bg-white p-3 rounded shadow",children:[e.jsx("div",{className:"font-bold text-green-600",children:"Eşleşen"}),e.jsx("div",{children:z.matched})]}),e.jsxs("div",{className:"bg-white p-3 rounded shadow",children:[e.jsx("div",{className:"font-bold text-red-600",children:"Eşleşmeyen"}),e.jsx("div",{children:z.unmatched})]}),e.jsxs("div",{className:"bg-white p-3 rounded shadow",children:[e.jsx("div",{className:"font-bold text-purple-600",children:"Eşleşme Oranı"}),e.jsxs("div",{children:["%",(Nr=z.matchRate)==null?void 0:Nr.toFixed(1)]})]})]})]}),D&&e.jsxs("div",{className:"mb-4 p-3 bg-green-50 rounded border",children:[e.jsx("h4",{className:"font-semibold text-green-800",children:"📧 Email Durumu"}),e.jsxs("div",{className:"text-sm text-green-700 grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:["Toplam Email: ",D.totalMessages]}),e.jsxs("div",{children:["Okunmamış: ",D.unseenMessages]}),e.jsxs("div",{children:["Bağlantı: ",D.isConnected?"✅ Aktif":"❌ Kapalı"]}),e.jsxs("div",{children:["Ortalama: ",(kr=(wr=D.metrics)==null?void 0:wr.avgProcessingTime)==null?void 0:kr.toFixed(2),"ms"]})]})]}),e.jsxs("div",{className:"mb-4 flex gap-2",children:[e.jsx("button",{onClick:()=>{d("all"),Fe()},className:c==="all"?"font-bold underline":"",children:"Tüm İşlemler"}),e.jsx("button",{onClick:()=>{d("unmatched"),jn()},className:c==="unmatched"?"font-bold underline":"",children:"Eşleşmeyen Ödemeler"}),e.jsxs("button",{onClick:()=>{d("pdf")},className:c==="pdf"?"font-bold underline":"",children:["PDF İşlemleri (",u.length,")"]})]}),l?e.jsx("div",{children:"Yükleniyor..."}):c==="all"?e.jsxs("div",{children:[e.jsxs("h3",{children:["Tüm İşlemler (",t.length,")"]}),e.jsx("p",{children:"İşlem listesi burada görüntülenecek..."})]}):c==="unmatched"?e.jsxs("div",{children:[e.jsxs("h3",{children:["Eşleşmeyen Ödemeler (",r.length,")"]}),e.jsx("p",{children:"Eşleşmeyen ödemeler burada görüntülenecek..."})]}):c==="pdf"?e.jsxs("div",{children:[e.jsxs("h3",{children:["PDF İşlemleri (",u.length,")"]}),e.jsx("p",{children:"PDF işlemleri burada görüntülenecek..."})]}):null,$e&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"🔍 Eksik İşlem Analizi"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Fark"}),e.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[(Sr=de.totalDifference)==null?void 0:Sr.toLocaleString("tr-TR")," TL"]})]}),e.jsx("span",{className:"text-3xl",children:"💰"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Kritik Sorunlar"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:de.criticalIssues||0})]}),e.jsx("span",{className:"text-3xl",children:"⚠️"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Eksik Günler"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:de.missingTransactionsCount||0})]}),e.jsx("span",{className:"text-3xl",children:"📅"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Durum"}),e.jsxs("p",{className:`text-lg font-bold ${de.severity==="CRITICAL"?"text-red-600":de.severity==="HIGH"?"text-orange-600":de.severity==="LOW"?"text-yellow-600":"text-gray-600"}`,children:[de.severity==="CRITICAL"?"🔴":de.severity==="HIGH"?"🟡":de.severity==="LOW"?"🟢":"⚪"," ",de.severity]})]}),e.jsx("span",{className:"text-3xl",children:"📊"})]})})]}),ut.length>0?e.jsxs("div",{className:"bg-white rounded-lg shadow border",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Günlük Eksik İşlem Detayları"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Tarih"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Tahmini Eksik Tutar"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Yön"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Güven"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Kritik Sorunlar"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Toplam Fark"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:ut.map((B,ie)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:new Date(B.date).toLocaleDateString("tr-TR")}),e.jsxs("td",{className:"px-4 py-3 text-sm font-semibold text-red-600",children:[B.estimatedAmount.toLocaleString("tr-TR")," TL"]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B.direction==="IN"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:B.direction==="IN"?"📥 Gelen":"📤 Giden"})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:B.confidence})}),e.jsx("td",{className:"px-4 py-3 text-sm text-red-600 font-semibold",children:B.criticalGaps}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:B.totalGaps})]},ie))})]})})]}):e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"✅"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-green-800 font-semibold",children:"Eksik İşlem Tespit Edilmedi"}),e.jsx("p",{className:"text-green-700",children:"Tüm işlemler doğru şekilde kaydedilmiş görünüyor."})]})]})})]}),W&&A&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg w-96",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Email Ayarları"}),e.jsxs("form",{onSubmit:B=>{B.preventDefault();const ie=new FormData(B.target),Ve={host:ie.get("host"),port:parseInt(ie.get("port")),user:ie.get("user"),pass:ie.get("pass"),secure:!0};Cn(Ve)},children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Host"}),e.jsx("input",{name:"host",type:"text",defaultValue:A.host,className:"w-full p-2 border rounded",placeholder:"imap.yapikredi.com.tr",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Port"}),e.jsx("input",{name:"port",type:"number",defaultValue:A.port,className:"w-full p-2 border rounded",placeholder:"993",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Kullanıcı Adı"}),e.jsx("input",{name:"user",type:"text",defaultValue:A.user,className:"w-full p-2 border rounded",placeholder:"email@yapikredi.com.tr",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Şifre"}),e.jsx("input",{name:"pass",type:"password",defaultValue:A.pass,className:"w-full p-2 border rounded",placeholder:"Email şifresi",required:!0})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Kaydet"}),e.jsx("button",{type:"button",onClick:()=>te(!1),className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"İptal"})]})]})]})}),he&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg w-96",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Tarih Aralığında Email Çek"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Başlangıç Tarihi"}),e.jsx("input",{type:"date",value:Ne,onChange:B=>_e(B.target.value),className:"w-full p-2 border rounded",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Bitiş Tarihi"}),e.jsx("input",{type:"date",value:qe,onChange:B=>Ut(B.target.value),className:"w-full p-2 border rounded",required:!0})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:wn,disabled:Bt,className:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 disabled:opacity-50",children:Bt?"Çekiliyor...":"Email Çek"}),e.jsx("button",{onClick:()=>oe(!1),className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"İptal"})]})]})})]})},Ht={getCashFlows:async()=>(await F.get("/cash/flows")).data,getCurrentBalance:async()=>(await F.get("/cash/balance")).data,countCash:async(t,s)=>(await F.post("/cash/count",{actualAmount:t,notes:s})).data,addCashTransaction:async(t,s,r,a)=>(await F.post("/cash/transactions",{amount:t,description:s,categoryId:r,date:a})).data},Yc=()=>{const[t,s]=x.useState([]),[r,a]=x.useState(!0),[n,i]=x.useState(null),[l,o]=x.useState(""),[c,d]=x.useState(""),[u,f]=x.useState(""),[h,p]=x.useState(!1),[y,v]=x.useState(""),[b,S]=x.useState(""),[N,g]=x.useState(""),[O,k]=x.useState(!1);x.useEffect(()=>{D()},[]);const D=async()=>{a(!0);const[T,E]=await Promise.all([Ht.getCashFlows(),Ht.getCurrentBalance()]);s(T.cashFlows||[]),i(E),a(!1)},_=async T=>{T.preventDefault(),p(!0),f("");try{const E=await Ht.countCash(l,c);f("Kasa sayımı kaydedildi! Fark: "+E.difference),D()}catch{f("Kasa sayımı başarısız!")}p(!1)},z=async T=>{T.preventDefault(),k(!0),g("");try{await Ht.addCashTransaction(y,b),g("Kasa işlemi eklendi!"),v(""),S(""),D()}catch{g("Kasa işlemi eklenemedi!")}k(!1)};return e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Kasa Akışları"}),n&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-100 rounded",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Bugünkü Kapanış:"})," ",n.today," TL"]}),e.jsxs("div",{children:[e.jsx("b",{children:"Son Kayıtlı Kasa:"})," ",n.lastRecord," TL"]}),e.jsxs("div",{children:[e.jsx("b",{children:"Bugünkü Gelir:"})," ",n.todayIncome," TL"]}),e.jsxs("div",{children:[e.jsx("b",{children:"Bugünkü Gider:"})," ",n.todayExpense," TL"]}),e.jsxs("div",{children:[e.jsx("b",{children:"Hesaplanan Kasa:"})," ",n.calculatedBalance," TL"]})]}),e.jsxs("form",{onSubmit:_,className:"mb-4 flex gap-2 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs",children:"Kasa Sayımı (Gerçek Tutar)"}),e.jsx("input",{type:"number",value:l,onChange:T=>o(T.target.value),className:"border px-2 py-1 w-32",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs",children:"Not"}),e.jsx("input",{type:"text",value:c,onChange:T=>d(T.target.value),className:"border px-2 py-1 w-48"})]}),e.jsx("button",{type:"submit",disabled:h,className:"bg-primary-600 text-white px-4 py-2 rounded",children:h?"Kaydediliyor...":"Kasa Sayımı Kaydet"})]}),u&&e.jsx("div",{className:"mb-2 text-green-600",children:u}),e.jsxs("form",{onSubmit:z,className:"mb-4 flex gap-2 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs",children:"Tutar (+ gelir, - gider)"}),e.jsx("input",{type:"number",value:y,onChange:T=>v(T.target.value),className:"border px-2 py-1 w-32",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs",children:"Açıklama"}),e.jsx("input",{type:"text",value:b,onChange:T=>S(T.target.value),className:"border px-2 py-1 w-48",required:!0})]}),e.jsx("button",{type:"submit",disabled:O,className:"bg-primary-600 text-white px-4 py-2 rounded",children:O?"Ekleniyor...":"Kasa İşlemi Ekle"})]}),N&&e.jsx("div",{className:"mb-2 text-green-600",children:N}),r?e.jsx("div",{children:"Yükleniyor..."}):e.jsxs("table",{className:"min-w-full border text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-2",children:"Tarih"}),e.jsx("th",{className:"border px-2",children:"Açılış"}),e.jsx("th",{className:"border px-2",children:"Kapanış"}),e.jsx("th",{className:"border px-2",children:"Gelir"}),e.jsx("th",{className:"border px-2",children:"Gider"}),e.jsx("th",{className:"border px-2",children:"Fark"})]})}),e.jsx("tbody",{children:t.map(T=>e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2",children:new Date(T.date).toLocaleDateString()}),e.jsx("td",{className:"border px-2",children:T.openingBalance}),e.jsx("td",{className:"border px-2",children:T.closingBalance}),e.jsx("td",{className:"border px-2",children:T.totalIncome}),e.jsx("td",{className:"border px-2",children:T.totalExpense}),e.jsx("td",{className:"border px-2",children:T.difference})]},T.id))})]})]})},Wc=()=>{const{id:t}=xa(),[s,r]=x.useState(null),[a,n]=x.useState([]),[i,l]=x.useState(!0),[o,c]=x.useState("");return x.useEffect(()=>{(async()=>{l(!0);try{const u=await gt.getExtractDetail(t);r(u),n(u.transactions||[])}catch{c("Detaylar yüklenemedi")}l(!1)})()},[t]),i?e.jsx("div",{className:"p-4",children:"Yükleniyor..."}):o?e.jsx("div",{className:"p-4 text-red-500",children:o}):s?e.jsxs("div",{className:"p-4",children:[e.jsx(kt,{to:"/extracts",className:"text-primary-600 underline mb-2 inline-block",children:"← Geri"}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Ekstre Detayı"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Dosya Adı:"})," ",s.fileName]}),e.jsxs("div",{children:[e.jsx("b",{children:"Yükleme Tarihi:"})," ",new Date(s.uploadDate).toLocaleString()]}),e.jsxs("div",{children:[e.jsx("b",{children:"Durum:"})," ",s.status]}),e.jsxs("div",{children:[e.jsx("b",{children:"Toplam Satır:"})," ",s.totalRows]}),e.jsxs("div",{children:[e.jsx("b",{children:"İşlenen Satır:"})," ",s.processedRows]}),e.jsxs("div",{children:[e.jsx("b",{children:"Hata Satırı:"})," ",s.errorRows]})]}),e.jsx("h3",{className:"font-semibold mb-2",children:"İşlem Satırları"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full border text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-2",children:"Tarih"}),e.jsx("th",{className:"border px-2",children:"Açıklama"}),e.jsx("th",{className:"border px-2",children:"Borç"}),e.jsx("th",{className:"border px-2",children:"Alacak"}),e.jsx("th",{className:"border px-2",children:"Müşteri"}),e.jsx("th",{className:"border px-2",children:"Belge Tipi"}),e.jsx("th",{className:"border px-2",children:"Satır"})]})}),e.jsx("tbody",{children:a.map(d=>{var u;return e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2",children:new Date(d.date).toLocaleDateString()}),e.jsx("td",{className:"border px-2",children:d.description}),e.jsx("td",{className:"border px-2",children:d.debit}),e.jsx("td",{className:"border px-2",children:d.credit}),e.jsx("td",{className:"border px-2",children:((u=d.customer)==null?void 0:u.name)||"-"}),e.jsx("td",{className:"border px-2",children:d.documentType||"-"}),e.jsx("td",{className:"border px-2",children:d.sourceRow})]},d.id)})})]})})]}):e.jsx("div",{className:"p-4",children:"Kayıt bulunamadı"})},Jc=()=>{const[t,s]=x.useState([]),[r,a]=x.useState(!1),n=async()=>{try{a(!0);const o=await ye.getCustomerPaymentPerformance();o.data.success&&s(o.data.data)}catch(o){console.error("Veriler yüklenirken hata:",o),Q.error("Veriler yüklenirken hata oluştu")}finally{a(!1)}};x.useEffect(()=>{n()},[]);const i=o=>Number(o).toFixed(2),l=t.map(o=>({name:o.customer.name,late:o.lateInvoicePercentage}));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Müşteri Ödeme Performansı"}),e.jsx("p",{className:"text-gray-600",children:"Müşterilerin ödeme süreleri ve gecikme oranları"})]}),e.jsx("button",{className:"btn btn-secondary btn-md",onClick:n,disabled:r,children:"Yenile"})]}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:r?e.jsx("div",{className:"flex items-center justify-center h-48",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2",children:"Müşteri"}),e.jsx("th",{className:"px-4 py-2",children:"Toplam Fatura"}),e.jsx("th",{className:"px-4 py-2",children:"Ödenen Fatura"}),e.jsx("th",{className:"px-4 py-2",children:"Ort. Ödeme Günü"}),e.jsx("th",{className:"px-4 py-2",children:"Gecikme %"})]})}),e.jsx("tbody",{children:t.map(o=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-2",children:o.customer.name}),e.jsx("td",{className:"px-4 py-2",children:o.totalInvoices}),e.jsx("td",{className:"px-4 py-2",children:o.paidInvoices}),e.jsx("td",{className:"px-4 py-2",children:i(o.averagePaymentDays)}),e.jsxs("td",{className:"px-4 py-2",children:[i(o.lateInvoicePercentage),"%"]})]},o.customer.id))})]})}),t.length>0&&e.jsx("div",{className:"h-80",children:e.jsx(Pn,{width:"100%",height:"100%",children:e.jsxs(_n,{data:l,children:[e.jsx(Ln,{dataKey:"name",interval:0,angle:-45,textAnchor:"end",height:80}),e.jsx(In,{}),e.jsx(Un,{formatter:o=>`${i(o)}%`}),e.jsx(Bn,{dataKey:"late",fill:"#f87171"})]})})})]})})})]})},Xc=({children:t})=>{const{user:s,loading:r}=or();return console.log("ProtectedRoute - user:",s,"loading:",r),r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):s?(console.log("Kullanıcı var, içerik gösteriliyor"),t):(console.log("Kullanıcı yok, login sayfasına yönlendiriliyor"),e.jsx(pa,{to:"/login",replace:!0}))},Zc=()=>e.jsxs(An,{children:[e.jsx(le,{path:"/login",element:e.jsx(nc,{})}),e.jsxs(le,{path:"/",element:e.jsx(Xc,{children:e.jsx(ac,{})}),children:[e.jsx(le,{index:!0,element:e.jsx(ta,{})}),e.jsx(le,{path:"dashboard",element:e.jsx(ta,{})}),e.jsx(le,{path:"customers",element:e.jsx(_c,{})}),e.jsx(le,{path:"customers/:id",element:e.jsx(Uc,{})}),e.jsx(le,{path:"transactions",element:e.jsx(lc,{})}),e.jsx(le,{path:"categories",element:e.jsx(Bc,{})}),e.jsx(le,{path:"extracts",element:e.jsx(Kc,{})}),e.jsx(le,{path:"extracts/:id",element:e.jsx(Wc,{})}),e.jsx(le,{path:"import",element:e.jsx(Qc,{})}),e.jsx(le,{path:"reports",element:e.jsx(qc,{})}),e.jsx(le,{path:"reports/customer-payment-performance",element:e.jsx(Jc,{})}),e.jsx(le,{path:"unpaid-invoices",element:e.jsx($c,{})}),e.jsx(le,{path:"paid-invoices",element:e.jsx(Vc,{})}),e.jsx(le,{path:"debug-fifo",element:e.jsx(zc,{})}),e.jsx(le,{path:"cash",element:e.jsx(Yc,{})}),e.jsx(le,{path:"banking",element:e.jsx(Gc,{})})]}),e.jsx(le,{path:"*",element:e.jsx(pa,{to:"/",replace:!0})})]}),ed=()=>e.jsx(zo,{children:e.jsx(Zc,{})}),td=new ui({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:5*60*1e3}}});qs.createRoot(document.getElementById("root")).render(e.jsx(Y.StrictMode,{children:e.jsx(yi,{client:td,children:e.jsxs(Mn,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[e.jsx(ed,{}),e.jsx(hl,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})}));
//# sourceMappingURL=index-DLdlghMh.js.map
